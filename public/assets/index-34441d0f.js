(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/*!
 * Color mode toggler for Bootstrap's docs (https://getbootstrap.com/)
 * Copyright 2011-2023 The Bootstrap Authors
 * Licensed under the Creative Commons Attribution 3.0 Unported License.
 */(()=>{const e=()=>localStorage.getItem("theme"),t=i=>localStorage.setItem("theme",i),n=()=>{const i=e();return i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},o=i=>{i==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.setAttribute("data-bs-theme",i)};o(n());const r=(i,a=!1)=>{const s=document.querySelector("#bd-theme");if(!s)return;const l=document.querySelector("#bd-theme-text"),c=document.querySelector(".theme-icon-active use"),u=document.querySelector(`[data-bs-theme-value="${i}"]`),d=u.querySelector("svg use").getAttribute("href");document.querySelectorAll("[data-bs-theme-value]").forEach(m=>{m.classList.remove("active"),m.setAttribute("aria-pressed","false")}),u.classList.add("active"),u.setAttribute("aria-pressed","true"),c.setAttribute("href",d);const f=`${l.textContent} (${u.dataset.bsThemeValue})`;s.setAttribute("aria-label",f),a&&s.focus()};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const i=e();i!=="light"&&i!=="dark"&&o(n())}),window.addEventListener("DOMContentLoaded",()=>{r(n()),document.querySelectorAll("[data-bs-theme-value]").forEach(i=>{i.addEventListener("click",()=>{const a=i.getAttribute("data-bs-theme-value");t(a),o(a),r(a,!0)})})})})();const Dt=new Map,un={set(e,t,n){Dt.has(e)||Dt.set(e,new Map);const o=Dt.get(e);if(!o.has(t)&&o.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(o.keys())[0]}.`);return}o.set(t,n)},get(e,t){return Dt.has(e)&&Dt.get(e).get(t)||null},remove(e,t){if(!Dt.has(e))return;const n=Dt.get(e);n.delete(t),n.size===0&&Dt.delete(e)}},Si=1e3,On="transitionend",rr=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),Di=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),Oi=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const o=Number.parseFloat(t),r=Number.parseFloat(n);return!o&&!r?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*Si)},ki=e=>{e.dispatchEvent(new Event(On))},It=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),Ke=e=>It(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(rr(e)):null,Ze=e=>{if(!It(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const o=e.closest("summary");if(o&&o.parentNode!==n||o===null)return!1}return t},Ae=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",_o=()=>{},ir=e=>{e.offsetHeight},ar=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,dn=[],Ci=e=>{document.readyState==="loading"?(dn.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of dn)t()}),dn.push(e)):e()},Lt=()=>document.documentElement.dir==="rtl",Rn=e=>{Ci(()=>{const t=ar();if(t){const n=e.NAME,o=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=o,e.jQueryInterface)}})},kt=(e,t=[],n=e)=>typeof e=="function"?e(...t):n,sr=(e,t,n=!0)=>{if(!n){kt(e);return}const o=5,r=Oi(t)+o;let i=!1;const a=({target:s})=>{s===t&&(i=!0,t.removeEventListener(On,a),kt(e))};t.addEventListener(On,a),setTimeout(()=>{i||ki(t)},r)},Ni=(e,t,n,o)=>{const r=e.length;let i=e.indexOf(t);return i===-1?!n&&o?e[r-1]:e[0]:(i+=n?1:-1,o&&(i=(i+r)%r),e[Math.max(0,Math.min(i,r-1))])},Ii=/[^.]*(?=\..*)\.|.*/,xi=/\..*/,Li=/::\d+$/,fn={};let wo=1;const lr={mouseenter:"mouseover",mouseleave:"mouseout"},Pi=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function cr(e,t){return t&&`${t}::${wo++}`||e.uidEvent||wo++}function ur(e){const t=cr(e);return e.uidEvent=t,fn[t]=fn[t]||{},fn[t]}function $i(e,t){return function n(o){return Fn(o,{delegateTarget:e}),n.oneOff&&E.off(e,o.type,t),t.apply(e,[o])}}function Bi(e,t,n){return function o(r){const i=e.querySelectorAll(t);for(let{target:a}=r;a&&a!==this;a=a.parentNode)for(const s of i)if(s===a)return Fn(r,{delegateTarget:a}),o.oneOff&&E.off(e,r.type,t,n),n.apply(a,[r])}}function dr(e,t,n=null){return Object.values(e).find(o=>o.callable===t&&o.delegationSelector===n)}function fr(e,t,n){const o=typeof t=="string",r=o?n:t||n;let i=pr(e);return Pi.has(i)||(i=e),[o,r,i]}function Ao(e,t,n,o,r){if(typeof t!="string"||!e)return;let[i,a,s]=fr(t,n,o);t in lr&&(a=(g=>function(h){if(!h.relatedTarget||h.relatedTarget!==h.delegateTarget&&!h.delegateTarget.contains(h.relatedTarget))return g.call(this,h)})(a));const l=ur(e),c=l[s]||(l[s]={}),u=dr(c,a,i?n:null);if(u){u.oneOff=u.oneOff&&r;return}const d=cr(a,t.replace(Ii,"")),f=i?Bi(e,n,a):$i(e,a);f.delegationSelector=i?n:null,f.callable=a,f.oneOff=r,f.uidEvent=d,c[d]=f,e.addEventListener(s,f,i)}function kn(e,t,n,o,r){const i=dr(t[n],o,r);i&&(e.removeEventListener(n,i,!!r),delete t[n][i.uidEvent])}function Mi(e,t,n,o){const r=t[n]||{};for(const[i,a]of Object.entries(r))i.includes(o)&&kn(e,t,n,a.callable,a.delegationSelector)}function pr(e){return e=e.replace(xi,""),lr[e]||e}const E={on(e,t,n,o){Ao(e,t,n,o,!1)},one(e,t,n,o){Ao(e,t,n,o,!0)},off(e,t,n,o){if(typeof t!="string"||!e)return;const[r,i,a]=fr(t,n,o),s=a!==t,l=ur(e),c=l[a]||{},u=t.startsWith(".");if(typeof i<"u"){if(!Object.keys(c).length)return;kn(e,l,a,i,r?n:null);return}if(u)for(const d of Object.keys(l))Mi(e,l,d,t.slice(1));for(const[d,f]of Object.entries(c)){const m=d.replace(Li,"");(!s||t.includes(m))&&kn(e,l,a,f.callable,f.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;const o=ar(),r=pr(t),i=t!==r;let a=null,s=!0,l=!0,c=!1;i&&o&&(a=o.Event(t,n),o(e).trigger(a),s=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented());const u=Fn(new Event(t,{bubbles:s,cancelable:!0}),n);return c&&u.preventDefault(),l&&e.dispatchEvent(u),u.defaultPrevented&&a&&a.preventDefault(),u}};function Fn(e,t={}){for(const[n,o]of Object.entries(t))try{e[n]=o}catch{Object.defineProperty(e,n,{configurable:!0,get(){return o}})}return e}function To(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function pn(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Wt={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${pn(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${pn(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(o=>o.startsWith("bs")&&!o.startsWith("bsConfig"));for(const o of n){let r=o.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=To(e.dataset[o])}return t},getDataAttribute(e,t){return To(e.getAttribute(`data-bs-${pn(t)}`))}};class Hn{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const o=It(n)?Wt.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof o=="object"?o:{},...It(n)?Wt.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[o,r]of Object.entries(n)){const i=t[o],a=It(i)?"element":Di(i);if(!new RegExp(r).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${o}" provided type "${a}" but expected type "${r}".`)}}}const Ri="5.3.2";class jn extends Hn{constructor(t,n){super(),t=Ke(t),t&&(this._element=t,this._config=this._getConfig(n),un.set(this._element,this.constructor.DATA_KEY,this))}dispose(){un.remove(this._element,this.constructor.DATA_KEY),E.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,o=!0){sr(t,n,o)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return un.get(Ke(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return Ri}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const hn=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?rr(n.trim()):null}return t},j={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){const n=[];let o=e.parentNode.closest(t);for(;o;)n.push(o),o=o.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!Ae(n)&&Ze(n))},getSelectorFromElement(e){const t=hn(e);return t&&j.findOne(t)?t:null},getElementFromSelector(e){const t=hn(e);return t?j.findOne(t):null},getMultipleElementsFromSelector(e){const t=hn(e);return t?j.find(t):[]}},hr="backdrop",Fi="fade",So="show",Do=`mousedown.bs.${hr}`,Hi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ji={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class mr extends Hn{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Hi}static get DefaultType(){return ji}static get NAME(){return hr}show(t){if(!this._config.isVisible){kt(t);return}this._append();const n=this._getElement();this._config.isAnimated&&ir(n),n.classList.add(So),this._emulateAnimation(()=>{kt(t)})}hide(t){if(!this._config.isVisible){kt(t);return}this._getElement().classList.remove(So),this._emulateAnimation(()=>{this.dispose(),kt(t)})}dispose(){this._isAppended&&(E.off(this._element,Do),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Fi),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Ke(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),E.on(t,Do,()=>{kt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){sr(t,this._getElement(),this._config.isAnimated)}}const gr=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,o=e.NAME;E.on(document,n,`[data-bs-dismiss="${o}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),Ae(this))return;const i=j.getElementFromSelector(this)||this.closest(`.${o}`);e.getOrCreateInstance(i)[t]()})},Wi="focustrap",Yi="bs.focustrap",Ge=`.${Yi}`,Vi=`focusin${Ge}`,Ki=`keydown.tab${Ge}`,Gi="Tab",Ui="forward",Oo="backward",zi={autofocus:!0,trapElement:null},Xi={autofocus:"boolean",trapElement:"element"};class vr extends Hn{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return zi}static get DefaultType(){return Xi}static get NAME(){return Wi}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),E.off(document,Ge),E.on(document,Vi,t=>this._handleFocusin(t)),E.on(document,Ki,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,E.off(document,Ge))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const o=j.focusableChildren(n);o.length===0?n.focus():this._lastTabNavDirection===Oo?o[o.length-1].focus():o[0].focus()}_handleKeydown(t){t.key===Gi&&(this._lastTabNavDirection=t.shiftKey?Oo:Ui)}}const ko=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Co=".sticky-top",Ne="padding-right",No="margin-right";class Cn{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ne,n=>n+t),this._setElementAttributes(ko,Ne,n=>n+t),this._setElementAttributes(Co,No,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ne),this._resetElementAttributes(ko,Ne),this._resetElementAttributes(Co,No)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,o){const r=this.getWidth(),i=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+r)return;this._saveInitialAttribute(a,n);const s=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${o(Number.parseFloat(s))}px`)};this._applyManipulationCallback(t,i)}_saveInitialAttribute(t,n){const o=t.style.getPropertyValue(n);o&&Wt.setDataAttribute(t,n,o)}_resetElementAttributes(t,n){const o=r=>{const i=Wt.getDataAttribute(r,n);if(i===null){r.style.removeProperty(n);return}Wt.removeDataAttribute(r,n),r.style.setProperty(n,i)};this._applyManipulationCallback(t,o)}_applyManipulationCallback(t,n){if(It(t)){n(t);return}for(const o of j.find(t,this._element))n(o)}}const qi="offcanvas",Ji="bs.offcanvas",At=`.${Ji}`,br=".data-api",Qi=`load${At}${br}`,Zi="Escape",Io="show",xo="showing",Lo="hiding",ta="offcanvas-backdrop",yr=".offcanvas.show",ea=`show${At}`,na=`shown${At}`,oa=`hide${At}`,Po=`hidePrevented${At}`,Er=`hidden${At}`,ra=`resize${At}`,ia=`click${At}${br}`,aa=`keydown.dismiss${At}`,sa='[data-bs-toggle="offcanvas"]',la={backdrop:!0,keyboard:!0,scroll:!1},ca={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Et extends jn{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return la}static get DefaultType(){return ca}static get NAME(){return qi}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||E.trigger(this._element,ea,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Cn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(xo);const o=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Io),this._element.classList.remove(xo),E.trigger(this._element,na,{relatedTarget:t})};this._queueCallback(o,this._element,!0)}hide(){if(!this._isShown||E.trigger(this._element,oa).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Lo),this._backdrop.hide();const n=()=>{this._element.classList.remove(Io,Lo),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Cn().reset(),E.trigger(this._element,Er)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){E.trigger(this._element,Po);return}this.hide()},n=!!this._config.backdrop;return new mr({className:ta,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new vr({trapElement:this._element})}_addEventListeners(){E.on(this._element,aa,t=>{if(t.key===Zi){if(this._config.keyboard){this.hide();return}E.trigger(this._element,Po)}})}static jQueryInterface(t){return this.each(function(){const n=Et.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}E.on(document,ia,sa,function(e){const t=j.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ae(this))return;E.one(t,Er,()=>{Ze(this)&&this.focus()});const n=j.findOne(yr);n&&n!==t&&Et.getInstance(n).hide(),Et.getOrCreateInstance(t).toggle(this)});E.on(window,Qi,()=>{for(const e of j.find(yr))Et.getOrCreateInstance(e).show()});E.on(window,ra,()=>{for(const e of j.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&Et.getOrCreateInstance(e).hide()});gr(Et);Rn(Et);var q="top",ot="bottom",rt="right",J="left",tn="auto",ue=[q,ot,rt,J],Vt="start",oe="end",_r="clippingParents",Wn="viewport",Qt="popper",wr="reference",Nn=ue.reduce(function(e,t){return e.concat([t+"-"+Vt,t+"-"+oe])},[]),Yn=[].concat(ue,[tn]).reduce(function(e,t){return e.concat([t,t+"-"+Vt,t+"-"+oe])},[]),Ar="beforeRead",Tr="read",Sr="afterRead",Dr="beforeMain",Or="main",kr="afterMain",Cr="beforeWrite",Nr="write",Ir="afterWrite",xr=[Ar,Tr,Sr,Dr,Or,kr,Cr,Nr,Ir];function gt(e){return e?(e.nodeName||"").toLowerCase():null}function it(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Kt(e){var t=it(e).Element;return e instanceof t||e instanceof Element}function st(e){var t=it(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Vn(e){if(typeof ShadowRoot>"u")return!1;var t=it(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ua(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var o=t.styles[n]||{},r=t.attributes[n]||{},i=t.elements[n];!st(i)||!gt(i)||(Object.assign(i.style,o),Object.keys(r).forEach(function(a){var s=r[a];s===!1?i.removeAttribute(a):i.setAttribute(a,s===!0?"":s)}))})}function da(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(o){var r=t.elements[o],i=t.attributes[o]||{},a=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:n[o]),s=a.reduce(function(l,c){return l[c]="",l},{});!st(r)||!gt(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(l){r.removeAttribute(l)}))})}}const Kn={name:"applyStyles",enabled:!0,phase:"write",fn:ua,effect:da,requires:["computeStyles"]};function ht(e){return e.split("-")[0]}var Yt=Math.max,Ue=Math.min,re=Math.round;function In(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Lr(){return!/^((?!chrome|android).)*safari/i.test(In())}function ie(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=e.getBoundingClientRect(),r=1,i=1;t&&st(e)&&(r=e.offsetWidth>0&&re(o.width)/e.offsetWidth||1,i=e.offsetHeight>0&&re(o.height)/e.offsetHeight||1);var a=Kt(e)?it(e):window,s=a.visualViewport,l=!Lr()&&n,c=(o.left+(l&&s?s.offsetLeft:0))/r,u=(o.top+(l&&s?s.offsetTop:0))/i,d=o.width/r,f=o.height/i;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function Gn(e){var t=ie(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function Pr(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Vn(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function _t(e){return it(e).getComputedStyle(e)}function fa(e){return["table","td","th"].indexOf(gt(e))>=0}function Pt(e){return((Kt(e)?e.ownerDocument:e.document)||window.document).documentElement}function en(e){return gt(e)==="html"?e:e.assignedSlot||e.parentNode||(Vn(e)?e.host:null)||Pt(e)}function $o(e){return!st(e)||_t(e).position==="fixed"?null:e.offsetParent}function pa(e){var t=/firefox/i.test(In()),n=/Trident/i.test(In());if(n&&st(e)){var o=_t(e);if(o.position==="fixed")return null}var r=en(e);for(Vn(r)&&(r=r.host);st(r)&&["html","body"].indexOf(gt(r))<0;){var i=_t(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function Te(e){for(var t=it(e),n=$o(e);n&&fa(n)&&_t(n).position==="static";)n=$o(n);return n&&(gt(n)==="html"||gt(n)==="body"&&_t(n).position==="static")?t:n||pa(e)||t}function Un(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ge(e,t,n){return Yt(e,Ue(t,n))}function ha(e,t,n){var o=ge(e,t,n);return o>n?n:o}function $r(){return{top:0,right:0,bottom:0,left:0}}function Br(e){return Object.assign({},$r(),e)}function Mr(e,t){return t.reduce(function(n,o){return n[o]=e,n},{})}var ma=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Br(typeof t!="number"?t:Mr(t,ue))};function ga(e){var t,n=e.state,o=e.name,r=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=ht(n.placement),l=Un(s),c=[J,rt].indexOf(s)>=0,u=c?"height":"width";if(!(!i||!a)){var d=ma(r.padding,n),f=Gn(i),m=l==="y"?q:J,g=l==="y"?ot:rt,h=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],_=a[l]-n.rects.reference[l],D=Te(i),T=D?l==="y"?D.clientHeight||0:D.clientWidth||0:0,O=h/2-_/2,v=d[m],S=T-f[u]-d[g],A=T/2-f[u]/2+O,I=ge(v,A,S),M=l;n.modifiersData[o]=(t={},t[M]=I,t.centerOffset=I-A,t)}}function va(e){var t=e.state,n=e.options,o=n.element,r=o===void 0?"[data-popper-arrow]":o;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||Pr(t.elements.popper,r)&&(t.elements.arrow=r))}const Rr={name:"arrow",enabled:!0,phase:"main",fn:ga,effect:va,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ae(e){return e.split("-")[1]}var ba={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ya(e,t){var n=e.x,o=e.y,r=t.devicePixelRatio||1;return{x:re(n*r)/r||0,y:re(o*r)/r||0}}function Bo(e){var t,n=e.popper,o=e.popperRect,r=e.placement,i=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,f=a.x,m=f===void 0?0:f,g=a.y,h=g===void 0?0:g,_=typeof u=="function"?u({x:m,y:h}):{x:m,y:h};m=_.x,h=_.y;var D=a.hasOwnProperty("x"),T=a.hasOwnProperty("y"),O=J,v=q,S=window;if(c){var A=Te(n),I="clientHeight",M="clientWidth";if(A===it(n)&&(A=Pt(n),_t(A).position!=="static"&&s==="absolute"&&(I="scrollHeight",M="scrollWidth")),A=A,r===q||(r===J||r===rt)&&i===oe){v=ot;var C=d&&A===S&&S.visualViewport?S.visualViewport.height:A[I];h-=C-o.height,h*=l?1:-1}if(r===J||(r===q||r===ot)&&i===oe){O=rt;var x=d&&A===S&&S.visualViewport?S.visualViewport.width:A[M];m-=x-o.width,m*=l?1:-1}}var P=Object.assign({position:s},c&&ba),V=u===!0?ya({x:m,y:h},it(n)):{x:m,y:h};if(m=V.x,h=V.y,l){var $;return Object.assign({},P,($={},$[v]=T?"0":"",$[O]=D?"0":"",$.transform=(S.devicePixelRatio||1)<=1?"translate("+m+"px, "+h+"px)":"translate3d("+m+"px, "+h+"px, 0)",$))}return Object.assign({},P,(t={},t[v]=T?h+"px":"",t[O]=D?m+"px":"",t.transform="",t))}function Ea(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=o===void 0?!0:o,i=n.adaptive,a=i===void 0?!0:i,s=n.roundOffsets,l=s===void 0?!0:s,c={placement:ht(t.placement),variation:ae(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Bo(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Bo(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const zn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ea,data:{}};var Ie={passive:!0};function _a(e){var t=e.state,n=e.instance,o=e.options,r=o.scroll,i=r===void 0?!0:r,a=o.resize,s=a===void 0?!0:a,l=it(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,Ie)}),s&&l.addEventListener("resize",n.update,Ie),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Ie)}),s&&l.removeEventListener("resize",n.update,Ie)}}const Xn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_a,data:{}};var wa={left:"right",right:"left",bottom:"top",top:"bottom"};function Me(e){return e.replace(/left|right|bottom|top/g,function(t){return wa[t]})}var Aa={start:"end",end:"start"};function Mo(e){return e.replace(/start|end/g,function(t){return Aa[t]})}function qn(e){var t=it(e),n=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:n,scrollTop:o}}function Jn(e){return ie(Pt(e)).left+qn(e).scrollLeft}function Ta(e,t){var n=it(e),o=Pt(e),r=n.visualViewport,i=o.clientWidth,a=o.clientHeight,s=0,l=0;if(r){i=r.width,a=r.height;var c=Lr();(c||!c&&t==="fixed")&&(s=r.offsetLeft,l=r.offsetTop)}return{width:i,height:a,x:s+Jn(e),y:l}}function Sa(e){var t,n=Pt(e),o=qn(e),r=(t=e.ownerDocument)==null?void 0:t.body,i=Yt(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Yt(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-o.scrollLeft+Jn(e),l=-o.scrollTop;return _t(r||n).direction==="rtl"&&(s+=Yt(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}function Qn(e){var t=_t(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function Fr(e){return["html","body","#document"].indexOf(gt(e))>=0?e.ownerDocument.body:st(e)&&Qn(e)?e:Fr(en(e))}function ve(e,t){var n;t===void 0&&(t=[]);var o=Fr(e),r=o===((n=e.ownerDocument)==null?void 0:n.body),i=it(o),a=r?[i].concat(i.visualViewport||[],Qn(o)?o:[]):o,s=t.concat(a);return r?s:s.concat(ve(en(a)))}function xn(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Da(e,t){var n=ie(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Ro(e,t,n){return t===Wn?xn(Ta(e,n)):Kt(t)?Da(t,n):xn(Sa(Pt(e)))}function Oa(e){var t=ve(en(e)),n=["absolute","fixed"].indexOf(_t(e).position)>=0,o=n&&st(e)?Te(e):e;return Kt(o)?t.filter(function(r){return Kt(r)&&Pr(r,o)&&gt(r)!=="body"}):[]}function ka(e,t,n,o){var r=t==="clippingParents"?Oa(e):[].concat(t),i=[].concat(r,[n]),a=i[0],s=i.reduce(function(l,c){var u=Ro(e,c,o);return l.top=Yt(u.top,l.top),l.right=Ue(u.right,l.right),l.bottom=Ue(u.bottom,l.bottom),l.left=Yt(u.left,l.left),l},Ro(e,a,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Hr(e){var t=e.reference,n=e.element,o=e.placement,r=o?ht(o):null,i=o?ae(o):null,a=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,l;switch(r){case q:l={x:a,y:t.y-n.height};break;case ot:l={x:a,y:t.y+t.height};break;case rt:l={x:t.x+t.width,y:s};break;case J:l={x:t.x-n.width,y:s};break;default:l={x:t.x,y:t.y}}var c=r?Un(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case Vt:l[c]=l[c]-(t[u]/2-n[u]/2);break;case oe:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function se(e,t){t===void 0&&(t={});var n=t,o=n.placement,r=o===void 0?e.placement:o,i=n.strategy,a=i===void 0?e.strategy:i,s=n.boundary,l=s===void 0?_r:s,c=n.rootBoundary,u=c===void 0?Wn:c,d=n.elementContext,f=d===void 0?Qt:d,m=n.altBoundary,g=m===void 0?!1:m,h=n.padding,_=h===void 0?0:h,D=Br(typeof _!="number"?_:Mr(_,ue)),T=f===Qt?wr:Qt,O=e.rects.popper,v=e.elements[g?T:f],S=ka(Kt(v)?v:v.contextElement||Pt(e.elements.popper),l,u,a),A=ie(e.elements.reference),I=Hr({reference:A,element:O,strategy:"absolute",placement:r}),M=xn(Object.assign({},O,I)),C=f===Qt?M:A,x={top:S.top-C.top+D.top,bottom:C.bottom-S.bottom+D.bottom,left:S.left-C.left+D.left,right:C.right-S.right+D.right},P=e.modifiersData.offset;if(f===Qt&&P){var V=P[r];Object.keys(x).forEach(function($){var z=[rt,ot].indexOf($)>=0?1:-1,Z=[q,ot].indexOf($)>=0?"y":"x";x[$]+=V[Z]*z})}return x}function Ca(e,t){t===void 0&&(t={});var n=t,o=n.placement,r=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Yn:l,u=ae(o),d=u?s?Nn:Nn.filter(function(g){return ae(g)===u}):ue,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var m=f.reduce(function(g,h){return g[h]=se(e,{placement:h,boundary:r,rootBoundary:i,padding:a})[ht(h)],g},{});return Object.keys(m).sort(function(g,h){return m[g]-m[h]})}function Na(e){if(ht(e)===tn)return[];var t=Me(e);return[Mo(e),t,Mo(t)]}function Ia(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,a=n.altAxis,s=a===void 0?!0:a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,m=n.flipVariations,g=m===void 0?!0:m,h=n.allowedAutoPlacements,_=t.options.placement,D=ht(_),T=D===_,O=l||(T||!g?[Me(_)]:Na(_)),v=[_].concat(O).reduce(function(Xt,St){return Xt.concat(ht(St)===tn?Ca(t,{placement:St,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:h}):St)},[]),S=t.rects.reference,A=t.rects.popper,I=new Map,M=!0,C=v[0],x=0;x<v.length;x++){var P=v[x],V=ht(P),$=ae(P)===Vt,z=[q,ot].indexOf(V)>=0,Z=z?"width":"height",F=se(t,{placement:P,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),G=z?$?rt:J:$?ot:q;S[Z]>A[Z]&&(G=Me(G));var dt=Me(G),bt=[];if(i&&bt.push(F[V]<=0),s&&bt.push(F[G]<=0,F[dt]<=0),bt.every(function(Xt){return Xt})){C=P,M=!1;break}I.set(P,bt)}if(M)for(var de=g?3:1,zt=function(St){var fe=v.find(function(ke){var Bt=I.get(ke);if(Bt)return Bt.slice(0,St).every(function(sn){return sn})});if(fe)return C=fe,"break"},$t=de;$t>0;$t--){var Oe=zt($t);if(Oe==="break")break}t.placement!==C&&(t.modifiersData[o]._skip=!0,t.placement=C,t.reset=!0)}}const jr={name:"flip",enabled:!0,phase:"main",fn:Ia,requiresIfExists:["offset"],data:{_skip:!1}};function Fo(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ho(e){return[q,rt,ot,J].some(function(t){return e[t]>=0})}function xa(e){var t=e.state,n=e.name,o=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,a=se(t,{elementContext:"reference"}),s=se(t,{altBoundary:!0}),l=Fo(a,o),c=Fo(s,r,i),u=Ho(l),d=Ho(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Wr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xa};function La(e,t,n){var o=ht(e),r=[J,q].indexOf(o)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*r,[J,rt].indexOf(o)>=0?{x:s,y:a}:{x:a,y:s}}function Pa(e){var t=e.state,n=e.options,o=e.name,r=n.offset,i=r===void 0?[0,0]:r,a=Yn.reduce(function(u,d){return u[d]=La(d,t.rects,i),u},{}),s=a[t.placement],l=s.x,c=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[o]=a}const Yr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Pa};function $a(e){var t=e.state,n=e.name;t.modifiersData[n]=Hr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Zn={name:"popperOffsets",enabled:!0,phase:"read",fn:$a,data:{}};function Ba(e){return e==="x"?"y":"x"}function Ma(e){var t=e.state,n=e.options,o=e.name,r=n.mainAxis,i=r===void 0?!0:r,a=n.altAxis,s=a===void 0?!1:a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,m=f===void 0?!0:f,g=n.tetherOffset,h=g===void 0?0:g,_=se(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),D=ht(t.placement),T=ae(t.placement),O=!T,v=Un(D),S=Ba(v),A=t.modifiersData.popperOffsets,I=t.rects.reference,M=t.rects.popper,C=typeof h=="function"?h(Object.assign({},t.rects,{placement:t.placement})):h,x=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(A){if(i){var $,z=v==="y"?q:J,Z=v==="y"?ot:rt,F=v==="y"?"height":"width",G=A[v],dt=G+_[z],bt=G-_[Z],de=m?-M[F]/2:0,zt=T===Vt?I[F]:M[F],$t=T===Vt?-M[F]:-I[F],Oe=t.elements.arrow,Xt=m&&Oe?Gn(Oe):{width:0,height:0},St=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:$r(),fe=St[z],ke=St[Z],Bt=ge(0,I[F],Xt[F]),sn=O?I[F]/2-de-Bt-fe-x.mainAxis:zt-Bt-fe-x.mainAxis,yi=O?-I[F]/2+de+Bt+ke+x.mainAxis:$t+Bt+ke+x.mainAxis,ln=t.elements.arrow&&Te(t.elements.arrow),Ei=ln?v==="y"?ln.clientTop||0:ln.clientLeft||0:0,fo=($=P?.[v])!=null?$:0,_i=G+sn-fo-Ei,wi=G+yi-fo,po=ge(m?Ue(dt,_i):dt,G,m?Yt(bt,wi):bt);A[v]=po,V[v]=po-G}if(s){var ho,Ai=v==="x"?q:J,Ti=v==="x"?ot:rt,Mt=A[S],Ce=S==="y"?"height":"width",mo=Mt+_[Ai],go=Mt-_[Ti],cn=[q,J].indexOf(D)!==-1,vo=(ho=P?.[S])!=null?ho:0,bo=cn?mo:Mt-I[Ce]-M[Ce]-vo+x.altAxis,yo=cn?Mt+I[Ce]+M[Ce]-vo-x.altAxis:go,Eo=m&&cn?ha(bo,Mt,yo):ge(m?bo:mo,Mt,m?yo:go);A[S]=Eo,V[S]=Eo-Mt}t.modifiersData[o]=V}}const Vr={name:"preventOverflow",enabled:!0,phase:"main",fn:Ma,requiresIfExists:["offset"]};function Ra(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Fa(e){return e===it(e)||!st(e)?qn(e):Ra(e)}function Ha(e){var t=e.getBoundingClientRect(),n=re(t.width)/e.offsetWidth||1,o=re(t.height)/e.offsetHeight||1;return n!==1||o!==1}function ja(e,t,n){n===void 0&&(n=!1);var o=st(t),r=st(t)&&Ha(t),i=Pt(t),a=ie(e,r,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(o||!o&&!n)&&((gt(t)!=="body"||Qn(i))&&(s=Fa(t)),st(t)?(l=ie(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=Jn(i))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Wa(e){var t=new Map,n=new Set,o=[];e.forEach(function(i){t.set(i.name,i)});function r(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var l=t.get(s);l&&r(l)}}),o.push(i)}return e.forEach(function(i){n.has(i.name)||r(i)}),o}function Ya(e){var t=Wa(e);return xr.reduce(function(n,o){return n.concat(t.filter(function(r){return r.phase===o}))},[])}function Va(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Ka(e){var t=e.reduce(function(n,o){var r=n[o.name];return n[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,n},{});return Object.keys(t).map(function(n){return t[n]})}var jo={placement:"bottom",modifiers:[],strategy:"absolute"};function Wo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function nn(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,o=n===void 0?[]:n,r=t.defaultOptions,i=r===void 0?jo:r;return function(s,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},jo,i),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},d=[],f=!1,m={state:u,setOptions:function(D){var T=typeof D=="function"?D(u.options):D;h(),u.options=Object.assign({},i,u.options,T),u.scrollParents={reference:Kt(s)?ve(s):s.contextElement?ve(s.contextElement):[],popper:ve(l)};var O=Ya(Ka([].concat(o,u.options.modifiers)));return u.orderedModifiers=O.filter(function(v){return v.enabled}),g(),m.update()},forceUpdate:function(){if(!f){var D=u.elements,T=D.reference,O=D.popper;if(Wo(T,O)){u.rects={reference:ja(T,Te(O),u.options.strategy==="fixed"),popper:Gn(O)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(x){return u.modifiersData[x.name]=Object.assign({},x.data)});for(var v=0;v<u.orderedModifiers.length;v++){if(u.reset===!0){u.reset=!1,v=-1;continue}var S=u.orderedModifiers[v],A=S.fn,I=S.options,M=I===void 0?{}:I,C=S.name;typeof A=="function"&&(u=A({state:u,options:M,name:C,instance:m})||u)}}}},update:Va(function(){return new Promise(function(_){m.forceUpdate(),_(u)})}),destroy:function(){h(),f=!0}};if(!Wo(s,l))return m;m.setOptions(c).then(function(_){!f&&c.onFirstUpdate&&c.onFirstUpdate(_)});function g(){u.orderedModifiers.forEach(function(_){var D=_.name,T=_.options,O=T===void 0?{}:T,v=_.effect;if(typeof v=="function"){var S=v({state:u,name:D,instance:m,options:O}),A=function(){};d.push(S||A)}})}function h(){d.forEach(function(_){return _()}),d=[]}return m}}var Ga=nn(),Ua=[Xn,Zn,zn,Kn],za=nn({defaultModifiers:Ua}),Xa=[Xn,Zn,zn,Kn,Yr,jr,Vr,Rr,Wr],Kr=nn({defaultModifiers:Xa});const qa=Object.freeze(Object.defineProperty({__proto__:null,afterMain:kr,afterRead:Sr,afterWrite:Ir,applyStyles:Kn,arrow:Rr,auto:tn,basePlacements:ue,beforeMain:Dr,beforeRead:Ar,beforeWrite:Cr,bottom:ot,clippingParents:_r,computeStyles:zn,createPopper:Kr,createPopperBase:Ga,createPopperLite:za,detectOverflow:se,end:oe,eventListeners:Xn,flip:jr,hide:Wr,left:J,main:Or,modifierPhases:xr,offset:Yr,placements:Yn,popper:Qt,popperGenerator:nn,popperOffsets:Zn,preventOverflow:Vr,read:Tr,reference:wr,right:rt,start:Vt,top:q,variationPlacements:Nn,viewport:Wn,write:Nr},Symbol.toStringTag,{value:"Module"})),Yo="dropdown",Ja="bs.dropdown",Ut=`.${Ja}`,to=".data-api",Qa="Escape",Vo="Tab",Za="ArrowUp",Ko="ArrowDown",ts=2,es=`hide${Ut}`,ns=`hidden${Ut}`,os=`show${Ut}`,rs=`shown${Ut}`,Gr=`click${Ut}${to}`,Ur=`keydown${Ut}${to}`,is=`keyup${Ut}${to}`,Zt="show",as="dropup",ss="dropend",ls="dropstart",cs="dropup-center",us="dropdown-center",jt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ds=`${jt}.${Zt}`,Re=".dropdown-menu",fs=".navbar",ps=".navbar-nav",hs=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ms=Lt()?"top-end":"top-start",gs=Lt()?"top-start":"top-end",vs=Lt()?"bottom-end":"bottom-start",bs=Lt()?"bottom-start":"bottom-end",ys=Lt()?"left-start":"right-start",Es=Lt()?"right-start":"left-start",_s="top",ws="bottom",As={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ts={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class lt extends jn{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=j.next(this._element,Re)[0]||j.prev(this._element,Re)[0]||j.findOne(Re,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return As}static get DefaultType(){return Ts}static get NAME(){return Yo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ae(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!E.trigger(this._element,os,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ps))for(const o of[].concat(...document.body.children))E.on(o,"mouseover",_o);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Zt),this._element.classList.add(Zt),E.trigger(this._element,rs,t)}}hide(){if(Ae(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!E.trigger(this._element,es,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))E.off(o,"mouseover",_o);this._popper&&this._popper.destroy(),this._menu.classList.remove(Zt),this._element.classList.remove(Zt),this._element.setAttribute("aria-expanded","false"),Wt.removeDataAttribute(this._menu,"popper"),E.trigger(this._element,ns,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!It(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${Yo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof qa>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:It(this._config.reference)?t=Ke(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=Kr(t,this._menu,n)}_isShown(){return this._menu.classList.contains(Zt)}_getPlacement(){const t=this._parent;if(t.classList.contains(ss))return ys;if(t.classList.contains(ls))return Es;if(t.classList.contains(cs))return _s;if(t.classList.contains(us))return ws;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(as)?n?gs:ms:n?bs:vs}_detectNavbar(){return this._element.closest(fs)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Wt.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...kt(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:n}){const o=j.find(hs,this._menu).filter(r=>Ze(r));o.length&&Ni(o,n,t===Ko,!o.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=lt.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===ts||t.type==="keyup"&&t.key!==Vo)return;const n=j.find(ds);for(const o of n){const r=lt.getInstance(o);if(!r||r._config.autoClose===!1)continue;const i=t.composedPath(),a=i.includes(r._menu);if(i.includes(r._element)||r._config.autoClose==="inside"&&!a||r._config.autoClose==="outside"&&a||r._menu.contains(t.target)&&(t.type==="keyup"&&t.key===Vo||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const s={relatedTarget:r._element};t.type==="click"&&(s.clickEvent=t),r._completeHide(s)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),o=t.key===Qa,r=[Za,Ko].includes(t.key);if(!r&&!o||n&&!o)return;t.preventDefault();const i=this.matches(jt)?this:j.prev(this,jt)[0]||j.next(this,jt)[0]||j.findOne(jt,t.delegateTarget.parentNode),a=lt.getOrCreateInstance(i);if(r){t.stopPropagation(),a.show(),a._selectMenuItem(t);return}a._isShown()&&(t.stopPropagation(),a.hide(),i.focus())}}E.on(document,Ur,jt,lt.dataApiKeydownHandler);E.on(document,Ur,Re,lt.dataApiKeydownHandler);E.on(document,Gr,lt.clearMenus);E.on(document,is,lt.clearMenus);E.on(document,Gr,jt,function(e){e.preventDefault(),lt.getOrCreateInstance(this).toggle()});Rn(lt);function on(e){return window.btoa(encodeURIComponent(e))}function rn(e){return decodeURIComponent(window.atob(e))}function eo(e){return`/img/${e}.svg`}function le(e,t={}){let n=document.createElement("template"),o=document.querySelector(`template#${e}`).innerHTML;for(let r in t)o=o.replaceAll(r,t[r]);return n.innerHTML=o.trim(),n.content.firstChild}function Ln(e,t=!1){switch(e){case"kmb":return t?"#FFFFFF":"#FF0000";case"ctb":return t?"#0080FF":"#F9BF00";case"nwfb":return t?"#7000CC":"#EF7925";case"nlb":return t?"#3DC9B4":"#2A897B";case"gmb":return t?"#53B776":"#337149";case"mtr":return t?"#53B776":"#1A81FF"}return"#000"}function Fe(e){switch(e){case"TWL":return"#ff0000";case"KTL":return"#1a9431";case"ISL":return"#0860a8";case"SIL":return"#b5bd00";case"TKL":return"#6b208b";case"AEL":return"#1c7670";case"TCL":return"#fe7f1d";case"DRL":return"#f550a6";case"EAL":return"#5eb6e4";case"TML":return"#9a3b26";case"WRL":return"#a40084"}return"#000"}function Ss(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}const zr=`${BASE_API}/api/route/{route}.json`,Ds=`${BASE_API}/api/spatial/{path}.json`,Os=`${BASE_API}/api/eta`,ks=`${BASE_API}/update.json`,Xr=document.getElementById("searchAlert"),xe=document.getElementById("searchResult"),qr=new Et("#searchDrawer");new lt("#routeTypeDropdown");new lt("#mtrDropdown");const Cs="https://mapapi.geodata.gov.hk/gs/api/v1.0.0/xyz/basemap/wgs84/{z}/{x}/{y}.png",Ns="https://mapapi.geodata.gov.hk/gs/api/v1.0.0/xyz/imagery/wgs84/{z}/{x}/{y}.png",Is="https://mapapi.geodata.gov.hk/gs/api/v1.0.0/xyz/label/hk/tc/wgs84/{z}/{x}/{y}.png",no='<a target="_blank" href="https://portal.csdi.gov.hk/">&copy; 地圖版權屬香港特區政府</a><img style="width:16px;height:16px;" src="https://api.hkmapservice.gov.hk/mapapi/landsdlogo.jpg" />',Go={delay:400,dashArray:[20,40],weight:5,paused:!1,reverse:!1,hardwareAccelerated:!0},Jr='<span class="loader m-3"></span>',Qr={className:"etaPopup",maxWidth:Ss()},xs=(e,t)=>{let n=`<div class="alert alert-${t}" role="alert"><div>${e}</div></div>`;Xr.innerHTML+=n},Ls=()=>{Xr.innerHTML=""},Ps=()=>{Ls(),xe.innerHTML='<ul class="list-group placeholder-glow"><li class="list-group-item"><span class="placeholder col-12"></span></li><li class="list-group-item"><span class="placeholder col-12"></span></li></ul>';let e=document.getElementById("routeInput").value.toUpperCase();fetch(zr.replace("{route}",e)).then(t=>t.json()).then(t=>{xe.innerHTML="",t.forEach((n,o)=>{let r=`<div class="d-flex align-items-center list-group-item list-group-item-action" id="route-${o}" onclick="renderRoute('route-${o}', '${on(JSON.stringify(n))}')"><div class="flex-shrink-0"><img class="logo" src="${eo(n.company)}" alt="${n.company}"/></div><div class="flex-grow-1 ms-3">${n.orig}➡️${n.dest}</div></div>`;xe.innerHTML+=r})}).catch(function(t){console.log(t),xs(`Cannot find route ${e} !`,"danger"),xe.innerHTML=""})},$s=(e,t)=>{Array.from(document.querySelectorAll(".list-group-item, .dropdown-item")).forEach(function(a){a.classList.remove("active")}),document.getElementById(e).classList.add("active");const n=JSON.parse(rn(t));pt.clearLayers(),n.stopList.forEach(a=>{const s={company:n.company,route:n.route,routeId:n.routeId,routeType:n.routeType,routeDesc:`${n.orig}➡️${n.dest}`,dir:n.dir,stop:a.id,name:a.name,address:`${a.lat},${a.long}`,street:a.street,fare:a.fare,fareHoliday:a.fareHoliday};var l=L.marker([a.lat,a.long],s).addTo(xt);l.bindPopup(Jr,Qr),pt.addLayer(l)});let o;const r=Ln(n.company,!1),i=Ln(n.company,!0);switch(n.company){case"kmb":o=`kmb/${n.route}/${n.dir}_${n.routeType}`;break;case"ctb":o=`ctb/${n.route}/${n.dir}`;break;case"nwfb":o=`nwfb/${n.route}/${n.dir}`;break;case"nlb":o=`nlb/${n.route}/${n.routeId}`;break;case"mtr":o=`mtr/${n.route}/${n.dir}`;break;case"gmb":o="";break}o&&fetch(Ds.replace("{path}",`${o}`)).then(a=>a.json()).then(a=>{let s=L.polyline.antPath(a,{color:r,pluseColor:i,...Go});pt.addLayer(s)}).catch(function(a){let s=n.stopList.map(c=>[c.lat,c.long]);s=[s];let l=L.polyline.antPath(s,{color:r,pluseColor:i,...Go});pt.addLayer(l)}),pt.addTo(xt),xt.fitBounds(pt.getBounds()),window.innerWidth<768&&qr.hide()},Bs=e=>{pt.clearLayers();let t=e.target.closest("div.list-group-item");const n=JSON.parse(rn(t.dataset.routeJson)),o=n.address.split(","),r={company:n.company,route:n.route,routeId:n.routeId,routeType:n.routeType,routeDesc:n.routeDesc,dir:n.dir,stop:n.stop,name:n.name,address:n.address,street:n.street,fare:n.fare,fareHoliday:n.fareHoliday};var i=L.marker(o,r).addTo(xt);i.bindPopup(Jr,Qr),pt.addLayer(i),pt.addTo(xt),xt.fitBounds(pt.getBounds()),i.openPopup(),window.innerWidth<768&&qr.hide()},mn=async e=>fetch(Os,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify([e])}).then(t=>t.json()).then(t=>t[0]).catch(t=>console.error(t)),Ms=async e=>{let t="",n="",o="",r="";var i=e.popup._source;let a=le("bookmarkBtn");const s={company:i.options.company,route:i.options.route,routeId:i.options.routeId,routeType:i.options.routeType,routeDesc:i.options.routeDesc,dir:i.options.dir,stop:i.options.stop,name:i.options.name,address:i.options.address,street:i.options.street,fare:i.options.fare,fareHoliday:i.options.fareHoliday,railwayFilterDir:i.options.railwayFilterDir};if(i.options.company==="mtr_hr"){let c={...s,dir:"UT"},u={...s,dir:"DT"},d=[];if(i.options.railwayFilterDir===void 0||i.options.railwayFilterDir&&i.options.railwayFilterDir.contains("UT")){const f=await mn({...i.options,dir:"UT"}).then(m=>m.map(g=>{let h="<li>";return g.eta!=null&&(h+=`<span class="badge rounded-pill text-white me-1" style="background-color: ${Fe(i.options.routeId)}">${g.platform}</span>往${g.dest}`),g.remark&&(h+=` (${g.remark})`),g.eta!=null&&(h+=`<span class="float-end">${g.eta>-1?0:g.eta}分鐘</span>`),h+="</li>",h}).join("")).catch(()=>"<div>未有資料</div>");d.push(`<div class="row">
            <div class="col">${f}</div>
            <div class="col-auto">${isBoomarked(c)?a:gn(c)}</div>
            </div>`)}if(i.options.railwayFilterDir===void 0||i.options.railwayFilterDir&&i.options.railwayFilterDir.contains("DT")){const f=await mn({...i.options,dir:"DT"}).then(m=>m.map(g=>{let h="<li>";return g.eta!=null&&(h+=`<span class="badge rounded-pill text-white me-1" style="background-color: ${Fe(i.options.routeId)}">${g.platform}</span>往${g.dest}`),g.remark&&(h+=` (${g.remark})`),g.eta!=null&&(h+=`<span class="float-end">${g.eta>-1?0:g.eta}分鐘</span>`),h+="</li>",h}).join("")).catch(()=>"<div>未有資料</div>");d.push(`<div class="row">
            <div class="col">${f}</div>
            <div class="col-auto">${isBoomarked(u)?a:gn(u)}</div>
            </div>`)}t=d.join('<hr class="my-2">'),o=`background-color: ${Fe(i.options.routeId)} min-width: 250px;`,r="d-none",a=""}else isBoomarked(i.options)&&(a=gn(s)),t=`<ul>${await mn(i.options).then(u=>u.map(d=>{let f="<li>";return d.eta!=null&&(f+=`${d.eta>-1?0:d.eta}分鐘`),d.remark&&(f+=` (${d.remark})`),f+="</li>",f}).join("")).catch(()=>"<li>未有資料</li>")}</ul>`,o=`background-color: ${Ln(i.options.company)}`,n=i.options.routeDesc;const l=le("etaPopup",{"{{companyLogoClass}}":r,"{{companyLogo}}":eo(i.options.company),"{{routeNo}}":i.options.route,"{{title}}":i.options.name,"{{subtitle}}":n,"{{titlecss}}":o,"{{bookmarkBtn}}":a,"{{body}}":t});i._popup.setContent(l)},gn=(e,t=null)=>{if(t===null){let n=document.querySelectorAll("div.list-group-item.group");n.length==0?(t="預設群組",addGroup(t)):t=n[0].dataset.groupName}return`<button class="btn btn-sm btn-outline-warning" onclick="addBookmark('${t}', '${on(JSON.stringify(e))}', true)"><i id="bookmarkPopupIcon" class="bi bi-bookmark-plus" aria-label="收藏路線"></i></button>`},Rs=(e,t)=>{document.getElementById("routeTypeSelected").innerText=e.innerText,Array.from(document.querySelectorAll("[data-route-type]")).forEach(function(n){n.dataset.routeType===t?n.classList.remove("d-none"):n.classList.add("d-none")})};document.getElementById("btnSearch").onclick=Ps;document.getElementById("routeInput").addEventListener("keypress",function(e){e.key==="Enter"&&(e.preventDefault(),document.getElementById("btnSearch").click())});var pt=new L.FeatureGroup;const Zr=L.tileLayer(Cs,{maxZoom:20,attribution:no}),Fs=L.tileLayer(Ns,{maxZoom:20,attribution:no}),ti=L.tileLayer(Is,{maxZoom:20,attribution:no}),Hs={地形圖:Zr,影像地圖:Fs},js={地名標籤:ti},xt=L.map("map",{center:[22.322005998683245,114.17846497109828],zoom:13,layers:[Zr,ti]});L.control.layers(Hs,js,{hideSingleBase:!0}).addTo(xt);xt.on("popupopen",Ms);fetch(ks).then(e=>e.json()).then(e=>{document.getElementById("getSiriShortcut").setAttribute("href",e.url),document.getElementById("siriShortcutVersion").innerHTML=`(v${e.version})`});await fetch(zr.replace("{route}","mtr_hr")).then(e=>e.json()).then(e=>(e.forEach(t=>{let n=le("mtrRouteRow",{"{{route}}":`${t.route} (${t.orig}↔️${t.dest})`,"{{routeId}}":t.routeId,"{{json}}":on(JSON.stringify(t)),"{{backgroundColor}}":Fe(t.routeId)});document.getElementById("routeInputMtrList").append(n)}),e));window.renderRoute=$s;window.renderBookmarkStop=Bs;window.routeTypeClick=Rs;const Ws="modal",Ys="bs.modal",ct=`.${Ys}`,Vs=".data-api",Ks="Escape",Gs=`hide${ct}`,Us=`hidePrevented${ct}`,ei=`hidden${ct}`,ni=`show${ct}`,zs=`shown${ct}`,Xs=`resize${ct}`,qs=`click.dismiss${ct}`,Js=`mousedown.dismiss${ct}`,Qs=`keydown.dismiss${ct}`,Zs=`click${ct}${Vs}`,Uo="modal-open",tl="fade",zo="show",vn="modal-static",el=".modal.show",nl=".modal-dialog",ol=".modal-body",rl='[data-bs-toggle="modal"]',il={backdrop:!0,focus:!0,keyboard:!0},al={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Gt extends jn{constructor(t,n){super(t,n),this._dialog=j.findOne(nl,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Cn,this._addEventListeners()}static get Default(){return il}static get DefaultType(){return al}static get NAME(){return Ws}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||E.trigger(this._element,ni,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Uo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||E.trigger(this._element,Gs).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(zo),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){E.off(window,ct),E.off(this._dialog,ct),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new mr({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new vr({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=j.findOne(ol,this._dialog);n&&(n.scrollTop=0),ir(this._element),this._element.classList.add(zo);const o=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,E.trigger(this._element,zs,{relatedTarget:t})};this._queueCallback(o,this._dialog,this._isAnimated())}_addEventListeners(){E.on(this._element,Qs,t=>{if(t.key===Ks){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),E.on(window,Xs,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),E.on(this._element,Js,t=>{E.one(this._element,qs,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Uo),this._resetAdjustments(),this._scrollBar.reset(),E.trigger(this._element,ei)})}_isAnimated(){return this._element.classList.contains(tl)}_triggerBackdropTransition(){if(E.trigger(this._element,Us).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,o=this._element.style.overflowY;o==="hidden"||this._element.classList.contains(vn)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(vn),this._queueCallback(()=>{this._element.classList.remove(vn),this._queueCallback(()=>{this._element.style.overflowY=o},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),o=n>0;if(o&&!t){const r=Lt()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!o&&t){const r=Lt()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const o=Gt.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof o[t]>"u")throw new TypeError(`No method named "${t}"`);o[t](n)}})}}E.on(document,Zs,rl,function(e){const t=j.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),E.one(t,ni,r=>{r.defaultPrevented||E.one(t,ei,()=>{Ze(this)&&this.focus()})});const n=j.findOne(el);n&&Gt.getInstance(n).hide(),Gt.getOrCreateInstance(t).toggle(this)});gr(Gt);Rn(Gt);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xo(Object(n),!0).forEach(function(o){sl(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xo(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function He(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?He=function(t){return typeof t}:He=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(e)}function sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(){return wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},wt.apply(this,arguments)}function ll(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,i;for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function cl(e,t){if(e==null)return{};var n=ll(e,t),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var ul="1.15.0";function yt(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Tt=yt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Se=yt(/Edge/i),qo=yt(/firefox/i),be=yt(/safari/i)&&!yt(/chrome/i)&&!yt(/android/i),oi=yt(/iP(ad|od|hone)/i),ri=yt(/chrome/i)&&yt(/android/i),ii={capture:!1,passive:!1};function N(e,t,n){e.addEventListener(t,n,!Tt&&ii)}function k(e,t,n){e.removeEventListener(t,n,!Tt&&ii)}function ze(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function dl(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ft(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&ze(e,t):ze(e,t))||o&&e===n)return e;if(e===n)break}while(e=dl(e))}return null}var Jo=/\s+/g;function tt(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Jo," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(Jo," ")}}function y(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function ne(e,t){var n="";if(typeof e=="string")n=e;else do{var o=y(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function ai(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function mt(){var e=document.scrollingElement;return e||document.documentElement}function Y(e,t,n,o,r){if(!(!e.getBoundingClientRect&&e!==window)){var i,a,s,l,c,u,d;if(e!==window&&e.parentNode&&e!==mt()?(i=e.getBoundingClientRect(),a=i.top,s=i.left,l=i.bottom,c=i.right,u=i.height,d=i.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!Tt))do if(r&&r.getBoundingClientRect&&(y(r,"transform")!=="none"||n&&y(r,"position")!=="static")){var f=r.getBoundingClientRect();a-=f.top+parseInt(y(r,"border-top-width")),s-=f.left+parseInt(y(r,"border-left-width")),l=a+i.height,c=s+i.width;break}while(r=r.parentNode);if(o&&e!==window){var m=ne(r||e),g=m&&m.a,h=m&&m.d;m&&(a/=h,s/=g,d/=g,u/=h,l=a+u,c=s+d)}return{top:a,left:s,bottom:l,right:c,width:d,height:u}}}function Qo(e,t,n){for(var o=Nt(e,!0),r=Y(e)[t];o;){var i=Y(o)[n],a=void 0;if(n==="top"||n==="left"?a=r>=i:a=r<=i,!a)return o;if(o===mt())break;o=Nt(o,!1)}return!1}function ce(e,t,n,o){for(var r=0,i=0,a=e.children;i<a.length;){if(a[i].style.display!=="none"&&a[i]!==b.ghost&&(o||a[i]!==b.dragged)&&ft(a[i],n.draggable,e,!1)){if(r===t)return a[i];r++}i++}return null}function oo(e,t){for(var n=e.lastElementChild;n&&(n===b.ghost||y(n,"display")==="none"||t&&!ze(n,t));)n=n.previousElementSibling;return n||null}function at(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==b.clone&&(!t||ze(e,t))&&n++;return n}function Zo(e){var t=0,n=0,o=mt();if(e)do{var r=ne(e),i=r.a,a=r.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==o&&(e=e.parentNode));return[t,n]}function fl(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function Nt(e,t){if(!e||!e.getBoundingClientRect)return mt();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=y(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return mt();if(o||t)return n;o=!0}}while(n=n.parentNode);return mt()}function pl(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function bn(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var ye;function si(e,t){return function(){if(!ye){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),ye=setTimeout(function(){ye=void 0},t)}}}function hl(){clearTimeout(ye),ye=void 0}function li(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ci(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var nt="Sortable"+new Date().getTime();function ml(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(r){if(!(y(r,"display")==="none"||r===b.ghost)){e.push({target:r,rect:Y(r)});var i=vt({},e[e.length-1].rect);if(r.thisAnimationDuration){var a=ne(r,!0);a&&(i.top-=a.f,i.left-=a.e)}r.fromRect=i}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(fl(e,{target:o}),1)},animateAll:function(o){var r=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var i=!1,a=0;e.forEach(function(s){var l=0,c=s.target,u=c.fromRect,d=Y(c),f=c.prevFromRect,m=c.prevToRect,g=s.rect,h=ne(c,!0);h&&(d.top-=h.f,d.left-=h.e),c.toRect=d,c.thisAnimationDuration&&bn(f,d)&&!bn(u,d)&&(g.top-d.top)/(g.left-d.left)===(u.top-d.top)/(u.left-d.left)&&(l=vl(g,f,m,r.options)),bn(d,u)||(c.prevFromRect=u,c.prevToRect=d,l||(l=r.options.animation),r.animate(c,g,d,l)),l&&(i=!0,a=Math.max(a,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),i?t=setTimeout(function(){typeof o=="function"&&o()},a):typeof o=="function"&&o(),e=[]},animate:function(o,r,i,a){if(a){y(o,"transition",""),y(o,"transform","");var s=ne(this.el),l=s&&s.a,c=s&&s.d,u=(r.left-i.left)/(l||1),d=(r.top-i.top)/(c||1);o.animatingX=!!u,o.animatingY=!!d,y(o,"transform","translate3d("+u+"px,"+d+"px,0)"),this.forRepaintDummy=gl(o),y(o,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),y(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){y(o,"transition",""),y(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},a)}}}}function gl(e){return e.offsetWidth}function vl(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var qt=[],yn={initializeByDefault:!0},De={mount:function(t){for(var n in yn)yn.hasOwnProperty(n)&&!(n in t)&&(t[n]=yn[n]);qt.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),qt.push(t)},pluginEvent:function(t,n,o){var r=this;this.eventCanceled=!1,o.cancel=function(){r.eventCanceled=!0};var i=t+"Global";qt.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][i]&&n[a.pluginName][i](vt({sortable:n},o)),n.options[a.pluginName]&&n[a.pluginName][t]&&n[a.pluginName][t](vt({sortable:n},o)))})},initializePlugins:function(t,n,o,r){qt.forEach(function(s){var l=s.pluginName;if(!(!t.options[l]&&!s.initializeByDefault)){var c=new s(t,n,t.options);c.sortable=t,c.options=t.options,t[l]=c,wt(o,c.defaults)}});for(var i in t.options)if(t.options.hasOwnProperty(i)){var a=this.modifyOption(t,i,t.options[i]);typeof a<"u"&&(t.options[i]=a)}},getEventProperties:function(t,n){var o={};return qt.forEach(function(r){typeof r.eventProperties=="function"&&wt(o,r.eventProperties.call(n[r.pluginName],t))}),o},modifyOption:function(t,n,o){var r;return qt.forEach(function(i){t[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(r=i.optionListeners[n].call(t[i.pluginName],o))}),r}};function bl(e){var t=e.sortable,n=e.rootEl,o=e.name,r=e.targetEl,i=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,m=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[nt],!!t){var h,_=t.options,D="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Tt&&!Se?h=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent(o,!0,!0)),h.to=a||n,h.from=s||n,h.item=r||n,h.clone=i,h.oldIndex=l,h.newIndex=c,h.oldDraggableIndex=u,h.newDraggableIndex=d,h.originalEvent=f,h.pullMode=m?m.lastPutMode:void 0;var T=vt(vt({},g),De.getEventProperties(o,t));for(var O in T)h[O]=T[O];n&&n.dispatchEvent(h),_[D]&&_[D].call(t,h)}}var yl=["evt"],Q=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=o.evt,i=cl(o,yl);De.pluginEvent.bind(b)(t,n,vt({dragEl:p,parentEl:H,ghostEl:w,rootEl:B,nextEl:Ht,lastDownEl:je,cloneEl:R,cloneHidden:Ct,dragStarted:pe,putSortable:K,activeSortable:b.active,originalEvent:r,oldIndex:ee,oldDraggableIndex:Ee,newIndex:et,newDraggableIndex:Ot,hideGhostForTarget:pi,unhideGhostForTarget:hi,cloneNowHidden:function(){Ct=!0},cloneNowShown:function(){Ct=!1},dispatchSortableEvent:function(s){X({sortable:n,name:s,originalEvent:r})}},i))};function X(e){bl(vt({putSortable:K,cloneEl:R,targetEl:p,rootEl:B,oldIndex:ee,oldDraggableIndex:Ee,newIndex:et,newDraggableIndex:Ot},e))}var p,H,w,B,Ht,je,R,Ct,ee,et,Ee,Ot,Le,K,te=!1,Xe=!1,qe=[],Rt,ut,En,_n,tr,er,pe,Jt,_e,we=!1,Pe=!1,We,U,wn=[],Pn=!1,Je=[],an=typeof document<"u",$e=oi,nr=Se||Tt?"cssFloat":"float",El=an&&!ri&&!oi&&"draggable"in document.createElement("div"),ui=function(){if(an){if(Tt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),di=function(t,n){var o=y(t),r=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),i=ce(t,0,n),a=ce(t,1,n),s=i&&y(i),l=a&&y(a),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Y(i).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Y(a).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&s.float!=="none"){var d=s.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return i&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||c>=r&&o[nr]==="none"||a&&o[nr]==="none"&&c+u>r)?"vertical":"horizontal"},_l=function(t,n,o){var r=o?t.left:t.top,i=o?t.right:t.bottom,a=o?t.width:t.height,s=o?n.left:n.top,l=o?n.right:n.bottom,c=o?n.width:n.height;return r===s||i===l||r+a/2===s+c/2},wl=function(t,n){var o;return qe.some(function(r){var i=r[nt].options.emptyInsertThreshold;if(!(!i||oo(r))){var a=Y(r),s=t>=a.left-i&&t<=a.right+i,l=n>=a.top-i&&n<=a.bottom+i;if(s&&l)return o=r}}),o},fi=function(t){function n(i,a){return function(s,l,c,u){var d=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(i==null&&(a||d))return!0;if(i==null||i===!1)return!1;if(a&&i==="clone")return i;if(typeof i=="function")return n(i(s,l,c,u),a)(s,l,c,u);var f=(a?s:l).options.group.name;return i===!0||typeof i=="string"&&i===f||i.join&&i.indexOf(f)>-1}}var o={},r=t.group;(!r||He(r)!="object")&&(r={name:r}),o.name=r.name,o.checkPull=n(r.pull,!0),o.checkPut=n(r.put),o.revertClone=r.revertClone,t.group=o},pi=function(){!ui&&w&&y(w,"display","none")},hi=function(){!ui&&w&&y(w,"display","")};an&&!ri&&document.addEventListener("click",function(e){if(Xe)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Xe=!1,!1},!0);var Ft=function(t){if(p){t=t.touches?t.touches[0]:t;var n=wl(t.clientX,t.clientY);if(n){var o={};for(var r in t)t.hasOwnProperty(r)&&(o[r]=t[r]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[nt]._onDragOver(o)}}},Al=function(t){p&&p.parentNode[nt]._isOutsideThisEl(t.target)};function b(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=wt({},t),e[nt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return di(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:b.supportPointer!==!1&&"PointerEvent"in window&&!be,emptyInsertThreshold:5};De.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);fi(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:El,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?N(e,"pointerdown",this._onTapStart):(N(e,"mousedown",this._onTapStart),N(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(N(e,"dragover",this),N(e,"dragenter",this)),qe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),wt(this,ml())}b.prototype={constructor:b,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Jt=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,p):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,o=this.el,r=this.options,i=r.preventOnFilter,a=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(s||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,u=r.filter;if(Il(o),!p&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&be&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=ft(l,r.draggable,o,!1),!(l&&l.animated)&&je!==l)){if(ee=at(l),Ee=at(l,r.draggable),typeof u=="function"){if(u.call(this,t,l,this)){X({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:o,fromEl:o}),Q("filter",n,{evt:t}),i&&t.cancelable&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(d){if(d=ft(c,d.trim(),o,!1),d)return X({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:o,toEl:o}),Q("filter",n,{evt:t}),!0}),u)){i&&t.cancelable&&t.preventDefault();return}r.handle&&!ft(c,r.handle,o,!1)||this._prepareDragStart(t,s,l)}}},_prepareDragStart:function(t,n,o){var r=this,i=r.el,a=r.options,s=i.ownerDocument,l;if(o&&!p&&o.parentNode===i){var c=Y(o);if(B=i,p=o,H=p.parentNode,Ht=p.nextSibling,je=o,Le=a.group,b.dragged=p,Rt={target:p,clientX:(n||t).clientX,clientY:(n||t).clientY},tr=Rt.clientX-c.left,er=Rt.clientY-c.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,p.style["will-change"]="all",l=function(){if(Q("delayEnded",r,{evt:t}),b.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!qo&&r.nativeDraggable&&(p.draggable=!0),r._triggerDragStart(t,n),X({sortable:r,name:"choose",originalEvent:t}),tt(p,a.chosenClass,!0)},a.ignore.split(",").forEach(function(u){ai(p,u.trim(),An)}),N(s,"dragover",Ft),N(s,"mousemove",Ft),N(s,"touchmove",Ft),N(s,"mouseup",r._onDrop),N(s,"touchend",r._onDrop),N(s,"touchcancel",r._onDrop),qo&&this.nativeDraggable&&(this.options.touchStartThreshold=4,p.draggable=!0),Q("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Se||Tt))){if(b.eventCanceled){this._onDrop();return}N(s,"mouseup",r._disableDelayedDrag),N(s,"touchend",r._disableDelayedDrag),N(s,"touchcancel",r._disableDelayedDrag),N(s,"mousemove",r._delayedDragTouchMoveHandler),N(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&N(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){p&&An(p),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;k(t,"mouseup",this._disableDelayedDrag),k(t,"touchend",this._disableDelayedDrag),k(t,"touchcancel",this._disableDelayedDrag),k(t,"mousemove",this._delayedDragTouchMoveHandler),k(t,"touchmove",this._delayedDragTouchMoveHandler),k(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?N(document,"pointermove",this._onTouchMove):n?N(document,"touchmove",this._onTouchMove):N(document,"mousemove",this._onTouchMove):(N(p,"dragend",this),N(B,"dragstart",this._onDragStart));try{document.selection?Ye(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(te=!1,B&&p){Q("dragStarted",this,{evt:n}),this.nativeDraggable&&N(document,"dragover",Al);var o=this.options;!t&&tt(p,o.dragClass,!1),tt(p,o.ghostClass,!0),b.active=this,t&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(ut){this._lastX=ut.clientX,this._lastY=ut.clientY,pi();for(var t=document.elementFromPoint(ut.clientX,ut.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ut.clientX,ut.clientY),t!==n);)n=t;if(p.parentNode[nt]._isOutsideThisEl(t),n)do{if(n[nt]){var o=void 0;if(o=n[nt]._onDragOver({clientX:ut.clientX,clientY:ut.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);hi()}},_onTouchMove:function(t){if(Rt){var n=this.options,o=n.fallbackTolerance,r=n.fallbackOffset,i=t.touches?t.touches[0]:t,a=w&&ne(w,!0),s=w&&a&&a.a,l=w&&a&&a.d,c=$e&&U&&Zo(U),u=(i.clientX-Rt.clientX+r.x)/(s||1)+(c?c[0]-wn[0]:0)/(s||1),d=(i.clientY-Rt.clientY+r.y)/(l||1)+(c?c[1]-wn[1]:0)/(l||1);if(!b.active&&!te){if(o&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(w){a?(a.e+=u-(En||0),a.f+=d-(_n||0)):a={a:1,b:0,c:0,d:1,e:u,f:d};var f="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");y(w,"webkitTransform",f),y(w,"mozTransform",f),y(w,"msTransform",f),y(w,"transform",f),En=u,_n=d,ut=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!w){var t=this.options.fallbackOnBody?document.body:B,n=Y(p,!0,$e,!0,t),o=this.options;if($e){for(U=t;y(U,"position")==="static"&&y(U,"transform")==="none"&&U!==document;)U=U.parentNode;U!==document.body&&U!==document.documentElement?(U===document&&(U=mt()),n.top+=U.scrollTop,n.left+=U.scrollLeft):U=mt(),wn=Zo(U)}w=p.cloneNode(!0),tt(w,o.ghostClass,!1),tt(w,o.fallbackClass,!0),tt(w,o.dragClass,!0),y(w,"transition",""),y(w,"transform",""),y(w,"box-sizing","border-box"),y(w,"margin",0),y(w,"top",n.top),y(w,"left",n.left),y(w,"width",n.width),y(w,"height",n.height),y(w,"opacity","0.8"),y(w,"position",$e?"absolute":"fixed"),y(w,"zIndex","100000"),y(w,"pointerEvents","none"),b.ghost=w,t.appendChild(w),y(w,"transform-origin",tr/parseInt(w.style.width)*100+"% "+er/parseInt(w.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,r=t.dataTransfer,i=o.options;if(Q("dragStart",this,{evt:t}),b.eventCanceled){this._onDrop();return}Q("setupClone",this),b.eventCanceled||(R=ci(p),R.removeAttribute("id"),R.draggable=!1,R.style["will-change"]="",this._hideClone(),tt(R,this.options.chosenClass,!1),b.clone=R),o.cloneId=Ye(function(){Q("clone",o),!b.eventCanceled&&(o.options.removeCloneOnHide||B.insertBefore(R,p),o._hideClone(),X({sortable:o,name:"clone"}))}),!n&&tt(p,i.dragClass,!0),n?(Xe=!0,o._loopId=setInterval(o._emulateDragOver,50)):(k(document,"mouseup",o._onDrop),k(document,"touchend",o._onDrop),k(document,"touchcancel",o._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(o,r,p)),N(document,"drop",o),y(p,"transform","translateZ(0)")),te=!0,o._dragStartId=Ye(o._dragStarted.bind(o,n,t)),N(document,"selectstart",o),pe=!0,be&&y(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,r,i,a,s=this.options,l=s.group,c=b.active,u=Le===l,d=s.sort,f=K||c,m,g=this,h=!1;if(Pn)return;function _(dt,bt){Q(dt,g,vt({evt:t,isOwner:u,axis:m?"vertical":"horizontal",revert:a,dragRect:r,targetRect:i,canSort:d,fromSortable:f,target:o,completed:T,onMove:function(zt,$t){return Be(B,n,p,r,zt,Y(zt),t,$t)},changed:O},bt))}function D(){_("dragOverAnimationCapture"),g.captureAnimationState(),g!==f&&f.captureAnimationState()}function T(dt){return _("dragOverCompleted",{insertion:dt}),dt&&(u?c._hideClone():c._showClone(g),g!==f&&(tt(p,K?K.options.ghostClass:c.options.ghostClass,!1),tt(p,s.ghostClass,!0)),K!==g&&g!==b.active?K=g:g===b.active&&K&&(K=null),f===g&&(g._ignoreWhileAnimating=o),g.animateAll(function(){_("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(o===p&&!p.animated||o===n&&!o.animated)&&(Jt=null),!s.dragoverBubble&&!t.rootEl&&o!==document&&(p.parentNode[nt]._isOutsideThisEl(t.target),!dt&&Ft(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),h=!0}function O(){et=at(p),Ot=at(p,s.draggable),X({sortable:g,name:"change",toEl:n,newIndex:et,newDraggableIndex:Ot,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=ft(o,s.draggable,n,!0),_("dragOver"),b.eventCanceled)return h;if(p.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||g._ignoreWhileAnimating===o)return T(!1);if(Xe=!1,c&&!s.disabled&&(u?d||(a=H!==B):K===this||(this.lastPutMode=Le.checkPull(this,c,p,t))&&l.checkPut(this,c,p,t))){if(m=this._getDirection(t,o)==="vertical",r=Y(p),_("dragOverValid"),b.eventCanceled)return h;if(a)return H=B,D(),this._hideClone(),_("revert"),b.eventCanceled||(Ht?B.insertBefore(p,Ht):B.appendChild(p)),T(!0);var v=oo(n,s.draggable);if(!v||Ol(t,m,this)&&!v.animated){if(v===p)return T(!1);if(v&&n===t.target&&(o=v),o&&(i=Y(o)),Be(B,n,p,r,o,i,t,!!o)!==!1)return D(),v&&v.nextSibling?n.insertBefore(p,v.nextSibling):n.appendChild(p),H=n,O(),T(!0)}else if(v&&Dl(t,m,this)){var S=ce(n,0,s,!0);if(S===p)return T(!1);if(o=S,i=Y(o),Be(B,n,p,r,o,i,t,!1)!==!1)return D(),n.insertBefore(p,S),H=n,O(),T(!0)}else if(o.parentNode===n){i=Y(o);var A=0,I,M=p.parentNode!==n,C=!_l(p.animated&&p.toRect||r,o.animated&&o.toRect||i,m),x=m?"top":"left",P=Qo(o,"top","top")||Qo(p,"top","top"),V=P?P.scrollTop:void 0;Jt!==o&&(I=i[x],we=!1,Pe=!C&&s.invertSwap||M),A=kl(t,o,i,m,C?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Pe,Jt===o);var $;if(A!==0){var z=at(p);do z-=A,$=H.children[z];while($&&(y($,"display")==="none"||$===w))}if(A===0||$===o)return T(!1);Jt=o,_e=A;var Z=o.nextElementSibling,F=!1;F=A===1;var G=Be(B,n,p,r,o,i,t,F);if(G!==!1)return(G===1||G===-1)&&(F=G===1),Pn=!0,setTimeout(Sl,30),D(),F&&!Z?n.appendChild(p):o.parentNode.insertBefore(p,F?Z:o),P&&li(P,0,V-P.scrollTop),H=p.parentNode,I!==void 0&&!Pe&&(We=Math.abs(I-Y(o)[x])),O(),T(!0)}if(n.contains(p))return T(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){k(document,"mousemove",this._onTouchMove),k(document,"touchmove",this._onTouchMove),k(document,"pointermove",this._onTouchMove),k(document,"dragover",Ft),k(document,"mousemove",Ft),k(document,"touchmove",Ft)},_offUpEvents:function(){var t=this.el.ownerDocument;k(t,"mouseup",this._onDrop),k(t,"touchend",this._onDrop),k(t,"pointerup",this._onDrop),k(t,"touchcancel",this._onDrop),k(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if(et=at(p),Ot=at(p,o.draggable),Q("drop",this,{evt:t}),H=p&&p.parentNode,et=at(p),Ot=at(p,o.draggable),b.eventCanceled){this._nulling();return}te=!1,Pe=!1,we=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),$n(this.cloneId),$n(this._dragStartId),this.nativeDraggable&&(k(document,"drop",this),k(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),be&&y(document.body,"user-select",""),y(p,"transform",""),t&&(pe&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),w&&w.parentNode&&w.parentNode.removeChild(w),(B===H||K&&K.lastPutMode!=="clone")&&R&&R.parentNode&&R.parentNode.removeChild(R),p&&(this.nativeDraggable&&k(p,"dragend",this),An(p),p.style["will-change"]="",pe&&!te&&tt(p,K?K.options.ghostClass:this.options.ghostClass,!1),tt(p,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:H,newIndex:null,newDraggableIndex:null,originalEvent:t}),B!==H?(et>=0&&(X({rootEl:H,name:"add",toEl:H,fromEl:B,originalEvent:t}),X({sortable:this,name:"remove",toEl:H,originalEvent:t}),X({rootEl:H,name:"sort",toEl:H,fromEl:B,originalEvent:t}),X({sortable:this,name:"sort",toEl:H,originalEvent:t})),K&&K.save()):et!==ee&&et>=0&&(X({sortable:this,name:"update",toEl:H,originalEvent:t}),X({sortable:this,name:"sort",toEl:H,originalEvent:t})),b.active&&((et==null||et===-1)&&(et=ee,Ot=Ee),X({sortable:this,name:"end",toEl:H,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Q("nulling",this),B=p=H=w=Ht=R=je=Ct=Rt=ut=pe=et=Ot=ee=Ee=Jt=_e=K=Le=b.dragged=b.ghost=b.clone=b.active=null,Je.forEach(function(t){t.checked=!0}),Je.length=En=_n=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":p&&(this._onDragOver(t),Tl(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,r=0,i=o.length,a=this.options;r<i;r++)n=o[r],ft(n,a.draggable,this.el,!1)&&t.push(n.getAttribute(a.dataIdAttr)||Nl(n));return t},sort:function(t,n){var o={},r=this.el;this.toArray().forEach(function(i,a){var s=r.children[a];ft(s,this.options.draggable,r,!1)&&(o[i]=s)},this),n&&this.captureAnimationState(),t.forEach(function(i){o[i]&&(r.removeChild(o[i]),r.appendChild(o[i]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return ft(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var r=De.modifyOption(this,t,n);typeof r<"u"?o[t]=r:o[t]=n,t==="group"&&fi(o)},destroy:function(){Q("destroy",this);var t=this.el;t[nt]=null,k(t,"mousedown",this._onTapStart),k(t,"touchstart",this._onTapStart),k(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(k(t,"dragover",this),k(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),qe.splice(qe.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Ct){if(Q("hideClone",this),b.eventCanceled)return;y(R,"display","none"),this.options.removeCloneOnHide&&R.parentNode&&R.parentNode.removeChild(R),Ct=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Ct){if(Q("showClone",this),b.eventCanceled)return;p.parentNode==B&&!this.options.group.revertClone?B.insertBefore(R,p):Ht?B.insertBefore(R,Ht):B.appendChild(R),this.options.group.revertClone&&this.animate(p,R),y(R,"display",""),Ct=!1}}};function Tl(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Be(e,t,n,o,r,i,a,s){var l,c=e[nt],u=c.options.onMove,d;return window.CustomEvent&&!Tt&&!Se?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=o,l.related=r||t,l.relatedRect=i||Y(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),u&&(d=u.call(c,l,a)),d}function An(e){e.draggable=!1}function Sl(){Pn=!1}function Dl(e,t,n){var o=Y(ce(n.el,0,n.options,!0)),r=10;return t?e.clientX<o.left-r||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-r||e.clientY<o.bottom&&e.clientX<o.left}function Ol(e,t,n){var o=Y(oo(n.el,n.options.draggable)),r=10;return t?e.clientX>o.right+r||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+r}function kl(e,t,n,o,r,i,a,s){var l=o?e.clientY:e.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,f=!1;if(!a){if(s&&We<c*r){if(!we&&(_e===1?l>u+c*i/2:l<d-c*i/2)&&(we=!0),we)f=!0;else if(_e===1?l<u+We:l>d-We)return-_e}else if(l>u+c*(1-r)/2&&l<d-c*(1-r)/2)return Cl(t)}return f=f||a,f&&(l<u+c*i/2||l>d-c*i/2)?l>u+c/2?1:-1:0}function Cl(e){return at(p)<at(e)?1:-1}function Nl(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Il(e){Je.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&Je.push(o)}}function Ye(e){return setTimeout(e,0)}function $n(e){return clearTimeout(e)}an&&N(document,"touchmove",function(e){(b.active||te)&&e.cancelable&&e.preventDefault()});b.utils={on:N,off:k,css:y,find:ai,is:function(t,n){return!!ft(t,n,t,!1)},extend:pl,throttle:si,closest:ft,toggleClass:tt,clone:ci,index:at,nextTick:Ye,cancelNextTick:$n,detectDirection:di,getChild:ce};b.get=function(e){return e[nt]};b.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(b.utils=vt(vt({},b.utils),o.utils)),De.mount(o)})};b.create=function(e,t){return new b(e,t)};b.version=ul;var W=[],he,Bn,Mn=!1,Tn,Sn,Qe,me;function xl(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?N(document,"dragover",this._handleAutoScroll):this.options.supportPointer?N(document,"pointermove",this._handleFallbackAutoScroll):o.touches?N(document,"touchmove",this._handleFallbackAutoScroll):N(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?k(document,"dragover",this._handleAutoScroll):(k(document,"pointermove",this._handleFallbackAutoScroll),k(document,"touchmove",this._handleFallbackAutoScroll),k(document,"mousemove",this._handleFallbackAutoScroll)),or(),Ve(),hl()},nulling:function(){Qe=Bn=he=Mn=me=Tn=Sn=null,W.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var r=this,i=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(i,a);if(Qe=n,o||this.options.forceAutoScrollFallback||Se||Tt||be){Dn(n,this.options,s,o);var l=Nt(s,!0);Mn&&(!me||i!==Tn||a!==Sn)&&(me&&or(),me=setInterval(function(){var c=Nt(document.elementFromPoint(i,a),!0);c!==l&&(l=c,Ve()),Dn(n,r.options,c,o)},10),Tn=i,Sn=a)}else{if(!this.options.bubbleScroll||Nt(s,!0)===mt()){Ve();return}Dn(n,this.options,Nt(s,!1),!1)}}},wt(e,{pluginName:"scroll",initializeByDefault:!0})}function Ve(){W.forEach(function(e){clearInterval(e.pid)}),W=[]}function or(){clearInterval(me)}var Dn=si(function(e,t,n,o){if(t.scroll){var r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,s=t.scrollSpeed,l=mt(),c=!1,u;Bn!==n&&(Bn=n,Ve(),he=t.scroll,u=t.scrollFn,he===!0&&(he=Nt(n,!0)));var d=0,f=he;do{var m=f,g=Y(m),h=g.top,_=g.bottom,D=g.left,T=g.right,O=g.width,v=g.height,S=void 0,A=void 0,I=m.scrollWidth,M=m.scrollHeight,C=y(m),x=m.scrollLeft,P=m.scrollTop;m===l?(S=O<I&&(C.overflowX==="auto"||C.overflowX==="scroll"||C.overflowX==="visible"),A=v<M&&(C.overflowY==="auto"||C.overflowY==="scroll"||C.overflowY==="visible")):(S=O<I&&(C.overflowX==="auto"||C.overflowX==="scroll"),A=v<M&&(C.overflowY==="auto"||C.overflowY==="scroll"));var V=S&&(Math.abs(T-r)<=a&&x+O<I)-(Math.abs(D-r)<=a&&!!x),$=A&&(Math.abs(_-i)<=a&&P+v<M)-(Math.abs(h-i)<=a&&!!P);if(!W[d])for(var z=0;z<=d;z++)W[z]||(W[z]={});(W[d].vx!=V||W[d].vy!=$||W[d].el!==m)&&(W[d].el=m,W[d].vx=V,W[d].vy=$,clearInterval(W[d].pid),(V!=0||$!=0)&&(c=!0,W[d].pid=setInterval(function(){o&&this.layer===0&&b.active._onTouchMove(Qe);var Z=W[this.layer].vy?W[this.layer].vy*s:0,F=W[this.layer].vx?W[this.layer].vx*s:0;typeof u=="function"&&u.call(b.dragged.parentNode[nt],F,Z,e,Qe,W[this.layer].el)!=="continue"||li(W[this.layer].el,F,Z)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==l&&(f=Nt(f,!1)));Mn=c}},30),mi=function(t){var n=t.originalEvent,o=t.putSortable,r=t.dragEl,i=t.activeSortable,a=t.dispatchSortableEvent,s=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(n){var c=o||i;s();var u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(d)&&(a("spill"),this.onSpill({dragEl:r,putSortable:o}))}};function ro(){}ro.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var r=ce(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:mi};wt(ro,{pluginName:"revertOnSpill"});function io(){}io.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,r=o||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:mi};wt(io,{pluginName:"removeOnSpill"});b.mount(new xl);b.mount(io,ro);const gi=document.getElementById("bookmarkList"),ao="##",so=`
`,Ll=new Gt("#addGroupModal"),lo=e=>{e?([document.getElementById("btnBookmarkEdit"),document.getElementById("btnBookmarkDownload"),document.getElementById("btnBookmarkUpload")].forEach((t,n,o)=>{t.classList.add("d-none")}),[document.getElementById("btnBookmarkGroupAdd"),...document.getElementsByClassName("btnBookmarkGroupEdit"),document.getElementById("btnBookmarkSave"),document.getElementById("btnBookmarkReset"),...document.getElementsByClassName("btnBookmarkReorder"),...document.getElementsByClassName("btnBookmarkRemove")].forEach((t,n,o)=>{t.classList.remove("d-none")})):([document.getElementById("btnBookmarkEdit"),document.getElementById("btnBookmarkDownload"),document.getElementById("btnBookmarkUpload")].forEach((t,n,o)=>{t.classList.remove("d-none")}),[document.getElementById("btnBookmarkGroupAdd"),...document.getElementsByClassName("btnBookmarkGroupEdit"),document.getElementById("btnBookmarkSave"),document.getElementById("btnBookmarkReset"),...document.getElementsByClassName("btnBookmarkReorder"),...document.getElementsByClassName("btnBookmarkRemove")].forEach((t,n,o)=>{t.classList.add("d-none")}))},co=e=>{document.getElementById("groupNameInput").value.length>0&&(e=document.getElementById("groupNameInput").value,document.getElementById("groupNameInput").value="",Ll.hide());const t=le("bookmarkGroup",{"{{name}}":e}),n=le("bookmarkRoute");t.appendChild(n),gi.appendChild(t),new b(n,{handle:".btnBookmarkReorder",group:"route",animation:150})},Pl=e=>{e.target.closest("div.list-group-item.group").remove()},vi=(e,t,n=!1)=>{n&&(t=JSON.parse(rn(t)));const o=le("bookmarkRow",{"{{dataRouteJson}}":on(JSON.stringify(t)),"{{companyLogo}}":eo(t.company),"{{route}}":t.route,"{{name}}":t.name,"{{routeDesc}}":t.routeDesc});document.querySelectorAll(`div[data-group-name="${e}"] .list-group.route`)[0].appendChild(o),n&&bi()},$l=e=>{e.target.closest("div.list-group-item").remove()},Bl=()=>{lo(!0)},bi=()=>{lo(!1);const e=[...document.getElementsByClassName("list-group-item")].map(t=>{const n=t.getAttribute("data-group-name");if(n){const o=[...t.querySelectorAll(".list-group-item")].map(r=>rn(r.getAttribute("data-route-json"))).join(ao);return JSON.stringify({[n]:o})}else return null}).filter(t=>!!t).join(so);localStorage.setItem("bookmarkList",e)},uo=()=>{lo(!1),gi.innerHTML="";let e=[];localStorage.hasOwnProperty("bookmarkList")&&(e=localStorage.getItem("bookmarkList").split(so).map(t=>{const n=JSON.parse(t);return Object.entries(n).map(o=>({[o[0]]:o[1].split(ao).map(r=>JSON.parse(r))}))})),e.forEach(t=>{const n=Object.entries(t[0])[0];co(n[0]),n[1].forEach(o=>vi(n[0],o))})},Ml=()=>{let e="";localStorage.hasOwnProperty("bookmarkList")&&(e=localStorage.getItem("bookmarkList"));let t=document.createElement("a"),n=new Blob([e],{type:"application/octet-stream"}),o=URL.createObjectURL(n);t.setAttribute("href",o),t.setAttribute("download","group"),t.click()},Rl=e=>{const t=new FileReader;t.onload=n=>{localStorage.setItem("bookmarkList",n.target.result),uo()},t.onerror=n=>console.error(n),t.readAsText(e.target.files[0])},Fl=e=>localStorage.hasOwnProperty("bookmarkList")?localStorage.getItem("bookmarkList").split(so).some(t=>{const n=JSON.parse(t);return Object.entries(n).some(o=>o[1].split(ao).some(r=>{const i=JSON.parse(r);let a=i.company===e.company&&i.routeId===e.routeId&&i.stop===e.stop;switch(e.company){case"kmb":a=a&&i.routeType===e.routeType&&i.dir===e.dir;break;case"ctb":case"nwfb":case"mtr_hr":a=a&&i.dir===e.dir;break;case"gmb":a=a&&i.routeType===e.routeType;break}return a}))}):!1;document.getElementById("btnBookmarkEdit").onclick=Bl;document.getElementById("btnBookmarkSave").onclick=bi;document.getElementById("btnBookmarkReset").onclick=uo;document.getElementById("btnBookmarkGroupAddSubmit").onclick=co;document.getElementById("btnBookmarkDownload").onclick=Ml;document.getElementById("fileUploadInput").addEventListener("change",Rl,!1);uo();new b(document.getElementById("bookmarkList"),{handle:".btnBookmarkReorder",group:"group",animation:150});window.addGroup=co;window.removeGroup=Pl;window.addBookmark=vi;window.removeBookmark=$l;window.isBoomarked=Fl;
