(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/*!
 * Color mode toggler for Bootstrap's docs (https://getbootstrap.com/)
 * Copyright 2011-2023 The Bootstrap Authors
 * Licensed under the Creative Commons Attribution 3.0 Unported License.
 */(()=>{const t=()=>localStorage.getItem("theme"),e=i=>localStorage.setItem("theme",i),n=()=>{const i=t();return i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},o=i=>{i==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.setAttribute("data-bs-theme",i)};o(n());const r=(i,a=!1)=>{const s=document.querySelector("#bd-theme");if(!s)return;const l=document.querySelector("#bd-theme-text"),c=document.querySelector(".theme-icon-active use"),u=document.querySelector(`[data-bs-theme-value="${i}"]`),d=u.querySelector("svg use").getAttribute("href");document.querySelectorAll("[data-bs-theme-value]").forEach(h=>{h.classList.remove("active"),h.setAttribute("aria-pressed","false")}),u.classList.add("active"),u.setAttribute("aria-pressed","true"),c.setAttribute("href",d);const p=`${l.textContent} (${u.dataset.bsThemeValue})`;s.setAttribute("aria-label",p),a&&s.focus()};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const i=t();i!=="light"&&i!=="dark"&&o(n())}),window.addEventListener("DOMContentLoaded",()=>{r(n()),document.querySelectorAll("[data-bs-theme-value]").forEach(i=>{i.addEventListener("click",()=>{const a=i.getAttribute("data-bs-theme-value");e(a),o(a),r(a,!0)})})})})();const Oe=new Map,cn={set(t,e,n){Oe.has(t)||Oe.set(t,new Map);const o=Oe.get(t);if(!o.has(e)&&o.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(o.keys())[0]}.`);return}o.set(e,n)},get(t,e){return Oe.has(t)&&Oe.get(t).get(e)||null},remove(t,e){if(!Oe.has(t))return;const n=Oe.get(t);n.delete(e),n.size===0&&Oe.delete(t)}},Si=1e3,On="transitionend",or=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),Oi=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),Di=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const o=Number.parseFloat(e),r=Number.parseFloat(n);return!o&&!r?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*Si)},ki=t=>{t.dispatchEvent(new Event(On))},Ie=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Vt=t=>Ie(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(or(t)):null,Qt=t=>{if(!Ie(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const o=t.closest("summary");if(o&&o.parentNode!==n||o===null)return!1}return e},At=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Eo=()=>{},rr=t=>{t.offsetHeight},ir=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,un=[],Ci=t=>{document.readyState==="loading"?(un.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of un)e()}),un.push(t)):t()},Le=()=>document.documentElement.dir==="rtl",Mn=t=>{Ci(()=>{const e=ir();if(e){const n=t.NAME,o=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=o,t.jQueryInterface)}})},ke=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,ar=(t,e,n=!0)=>{if(!n){ke(t);return}const o=5,r=Di(e)+o;let i=!1;const a=({target:s})=>{s===e&&(i=!0,e.removeEventListener(On,a),ke(t))};e.addEventListener(On,a),setTimeout(()=>{i||ki(e)},r)},Ni=(t,e,n,o)=>{const r=t.length;let i=t.indexOf(e);return i===-1?!n&&o?t[r-1]:t[0]:(i+=n?1:-1,o&&(i=(i+r)%r),t[Math.max(0,Math.min(i,r-1))])},Ii=/[^.]*(?=\..*)\.|.*/,xi=/\..*/,Li=/::\d+$/,dn={};let _o=1;const sr={mouseenter:"mouseover",mouseleave:"mouseout"},Pi=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function lr(t,e){return e&&`${e}::${_o++}`||t.uidEvent||_o++}function cr(t){const e=lr(t);return t.uidEvent=e,dn[e]=dn[e]||{},dn[e]}function $i(t,e){return function n(o){return Rn(o,{delegateTarget:t}),n.oneOff&&E.off(t,o.type,e),e.apply(t,[o])}}function Bi(t,e,n){return function o(r){const i=t.querySelectorAll(e);for(let{target:a}=r;a&&a!==this;a=a.parentNode)for(const s of i)if(s===a)return Rn(r,{delegateTarget:a}),o.oneOff&&E.off(t,r.type,e,n),n.apply(a,[r])}}function ur(t,e,n=null){return Object.values(t).find(o=>o.callable===e&&o.delegationSelector===n)}function dr(t,e,n){const o=typeof e=="string",r=o?n:e||n;let i=fr(t);return Pi.has(i)||(i=t),[o,r,i]}function wo(t,e,n,o,r){if(typeof e!="string"||!t)return;let[i,a,s]=dr(e,n,o);e in sr&&(a=(g=>function(m){if(!m.relatedTarget||m.relatedTarget!==m.delegateTarget&&!m.delegateTarget.contains(m.relatedTarget))return g.call(this,m)})(a));const l=cr(t),c=l[s]||(l[s]={}),u=ur(c,a,i?n:null);if(u){u.oneOff=u.oneOff&&r;return}const d=lr(a,e.replace(Ii,"")),p=i?Bi(t,n,a):$i(t,a);p.delegationSelector=i?n:null,p.callable=a,p.oneOff=r,p.uidEvent=d,c[d]=p,t.addEventListener(s,p,i)}function Dn(t,e,n,o,r){const i=ur(e[n],o,r);i&&(t.removeEventListener(n,i,!!r),delete e[n][i.uidEvent])}function Mi(t,e,n,o){const r=e[n]||{};for(const[i,a]of Object.entries(r))i.includes(o)&&Dn(t,e,n,a.callable,a.delegationSelector)}function fr(t){return t=t.replace(xi,""),sr[t]||t}const E={on(t,e,n,o){wo(t,e,n,o,!1)},one(t,e,n,o){wo(t,e,n,o,!0)},off(t,e,n,o){if(typeof e!="string"||!t)return;const[r,i,a]=dr(e,n,o),s=a!==e,l=cr(t),c=l[a]||{},u=e.startsWith(".");if(typeof i<"u"){if(!Object.keys(c).length)return;Dn(t,l,a,i,r?n:null);return}if(u)for(const d of Object.keys(l))Mi(t,l,d,e.slice(1));for(const[d,p]of Object.entries(c)){const h=d.replace(Li,"");(!s||e.includes(h))&&Dn(t,l,a,p.callable,p.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const o=ir(),r=fr(e),i=e!==r;let a=null,s=!0,l=!0,c=!1;i&&o&&(a=o.Event(e,n),o(t).trigger(a),s=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented());const u=Rn(new Event(e,{bubbles:s,cancelable:!0}),n);return c&&u.preventDefault(),l&&t.dispatchEvent(u),u.defaultPrevented&&a&&a.preventDefault(),u}};function Rn(t,e={}){for(const[n,o]of Object.entries(e))try{t[n]=o}catch{Object.defineProperty(t,n,{configurable:!0,get(){return o}})}return t}function Ao(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function fn(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const We={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${fn(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${fn(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(o=>o.startsWith("bs")&&!o.startsWith("bsConfig"));for(const o of n){let r=o.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=Ao(t.dataset[o])}return e},getDataAttribute(t,e){return Ao(t.getAttribute(`data-bs-${fn(e)}`))}};class Fn{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const o=Ie(n)?We.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof o=="object"?o:{},...Ie(n)?We.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[o,r]of Object.entries(n)){const i=e[o],a=Ie(i)?"element":Oi(i);if(!new RegExp(r).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${o}" provided type "${a}" but expected type "${r}".`)}}}const Ri="5.3.2";class Hn extends Fn{constructor(e,n){super(),e=Vt(e),e&&(this._element=e,this._config=this._getConfig(n),cn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){cn.remove(this._element,this.constructor.DATA_KEY),E.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,o=!0){ar(e,n,o)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return cn.get(Vt(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return Ri}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const pn=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?or(n.trim()):null}return e},j={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let o=t.parentNode.closest(e);for(;o;)n.push(o),o=o.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!At(n)&&Qt(n))},getSelectorFromElement(t){const e=pn(t);return e&&j.findOne(e)?e:null},getElementFromSelector(t){const e=pn(t);return e?j.findOne(e):null},getMultipleElementsFromSelector(t){const e=pn(t);return e?j.find(e):[]}},pr="backdrop",Fi="fade",To="show",So=`mousedown.bs.${pr}`,Hi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ji={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class hr extends Fn{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Hi}static get DefaultType(){return ji}static get NAME(){return pr}show(e){if(!this._config.isVisible){ke(e);return}this._append();const n=this._getElement();this._config.isAnimated&&rr(n),n.classList.add(To),this._emulateAnimation(()=>{ke(e)})}hide(e){if(!this._config.isVisible){ke(e);return}this._getElement().classList.remove(To),this._emulateAnimation(()=>{this.dispose(),ke(e)})}dispose(){this._isAppended&&(E.off(this._element,So),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Fi),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Vt(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),E.on(e,So,()=>{ke(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){ar(e,this._getElement(),this._config.isAnimated)}}const mr=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,o=t.NAME;E.on(document,n,`[data-bs-dismiss="${o}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),At(this))return;const i=j.getElementFromSelector(this)||this.closest(`.${o}`);t.getOrCreateInstance(i)[e]()})},Wi="focustrap",Yi="bs.focustrap",Kt=`.${Yi}`,Vi=`focusin${Kt}`,Ki=`keydown.tab${Kt}`,Gi="Tab",Ui="forward",Oo="backward",zi={autofocus:!0,trapElement:null},Xi={autofocus:"boolean",trapElement:"element"};class gr extends Fn{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return zi}static get DefaultType(){return Xi}static get NAME(){return Wi}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),E.off(document,Kt),E.on(document,Vi,e=>this._handleFocusin(e)),E.on(document,Ki,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,E.off(document,Kt))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const o=j.focusableChildren(n);o.length===0?n.focus():this._lastTabNavDirection===Oo?o[o.length-1].focus():o[0].focus()}_handleKeydown(e){e.key===Gi&&(this._lastTabNavDirection=e.shiftKey?Oo:Ui)}}const Do=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ko=".sticky-top",Nt="padding-right",Co="margin-right";class kn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Nt,n=>n+e),this._setElementAttributes(Do,Nt,n=>n+e),this._setElementAttributes(ko,Co,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Nt),this._resetElementAttributes(Do,Nt),this._resetElementAttributes(ko,Co)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,o){const r=this.getWidth(),i=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+r)return;this._saveInitialAttribute(a,n);const s=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${o(Number.parseFloat(s))}px`)};this._applyManipulationCallback(e,i)}_saveInitialAttribute(e,n){const o=e.style.getPropertyValue(n);o&&We.setDataAttribute(e,n,o)}_resetElementAttributes(e,n){const o=r=>{const i=We.getDataAttribute(r,n);if(i===null){r.style.removeProperty(n);return}We.removeDataAttribute(r,n),r.style.setProperty(n,i)};this._applyManipulationCallback(e,o)}_applyManipulationCallback(e,n){if(Ie(e)){n(e);return}for(const o of j.find(e,this._element))n(o)}}const qi="offcanvas",Ji="bs.offcanvas",Ae=`.${Ji}`,vr=".data-api",Qi=`load${Ae}${vr}`,Zi="Escape",No="show",Io="showing",xo="hiding",ea="offcanvas-backdrop",br=".offcanvas.show",ta=`show${Ae}`,na=`shown${Ae}`,oa=`hide${Ae}`,Lo=`hidePrevented${Ae}`,yr=`hidden${Ae}`,ra=`resize${Ae}`,ia=`click${Ae}${vr}`,aa=`keydown.dismiss${Ae}`,sa='[data-bs-toggle="offcanvas"]',la={backdrop:!0,keyboard:!0,scroll:!1},ca={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ee extends Hn{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return la}static get DefaultType(){return ca}static get NAME(){return qi}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||E.trigger(this._element,ta,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new kn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Io);const o=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(No),this._element.classList.remove(Io),E.trigger(this._element,na,{relatedTarget:e})};this._queueCallback(o,this._element,!0)}hide(){if(!this._isShown||E.trigger(this._element,oa).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(xo),this._backdrop.hide();const n=()=>{this._element.classList.remove(No,xo),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new kn().reset(),E.trigger(this._element,yr)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){E.trigger(this._element,Lo);return}this.hide()},n=!!this._config.backdrop;return new hr({className:ea,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new gr({trapElement:this._element})}_addEventListeners(){E.on(this._element,aa,e=>{if(e.key===Zi){if(this._config.keyboard){this.hide();return}E.trigger(this._element,Lo)}})}static jQueryInterface(e){return this.each(function(){const n=Ee.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}E.on(document,ia,sa,function(t){const e=j.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),At(this))return;E.one(e,yr,()=>{Qt(this)&&this.focus()});const n=j.findOne(br);n&&n!==e&&Ee.getInstance(n).hide(),Ee.getOrCreateInstance(e).toggle(this)});E.on(window,Qi,()=>{for(const t of j.find(br))Ee.getOrCreateInstance(t).show()});E.on(window,ra,()=>{for(const t of j.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Ee.getOrCreateInstance(t).hide()});mr(Ee);Mn(Ee);var q="top",oe="bottom",re="right",J="left",Zt="auto",ut=[q,oe,re,J],Ve="start",ot="end",Er="clippingParents",jn="viewport",Qe="popper",_r="reference",Cn=ut.reduce(function(t,e){return t.concat([e+"-"+Ve,e+"-"+ot])},[]),Wn=[].concat(ut,[Zt]).reduce(function(t,e){return t.concat([e,e+"-"+Ve,e+"-"+ot])},[]),wr="beforeRead",Ar="read",Tr="afterRead",Sr="beforeMain",Or="main",Dr="afterMain",kr="beforeWrite",Cr="write",Nr="afterWrite",Ir=[wr,Ar,Tr,Sr,Or,Dr,kr,Cr,Nr];function ge(t){return t?(t.nodeName||"").toLowerCase():null}function ie(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ke(t){var e=ie(t).Element;return t instanceof e||t instanceof Element}function se(t){var e=ie(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Yn(t){if(typeof ShadowRoot>"u")return!1;var e=ie(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ua(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var o=e.styles[n]||{},r=e.attributes[n]||{},i=e.elements[n];!se(i)||!ge(i)||(Object.assign(i.style,o),Object.keys(r).forEach(function(a){var s=r[a];s===!1?i.removeAttribute(a):i.setAttribute(a,s===!0?"":s)}))})}function da(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(o){var r=e.elements[o],i=e.attributes[o]||{},a=Object.keys(e.styles.hasOwnProperty(o)?e.styles[o]:n[o]),s=a.reduce(function(l,c){return l[c]="",l},{});!se(r)||!ge(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(l){r.removeAttribute(l)}))})}}const Vn={name:"applyStyles",enabled:!0,phase:"write",fn:ua,effect:da,requires:["computeStyles"]};function he(t){return t.split("-")[0]}var Ye=Math.max,Gt=Math.min,rt=Math.round;function Nn(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function xr(){return!/^((?!chrome|android).)*safari/i.test(Nn())}function it(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var o=t.getBoundingClientRect(),r=1,i=1;e&&se(t)&&(r=t.offsetWidth>0&&rt(o.width)/t.offsetWidth||1,i=t.offsetHeight>0&&rt(o.height)/t.offsetHeight||1);var a=Ke(t)?ie(t):window,s=a.visualViewport,l=!xr()&&n,c=(o.left+(l&&s?s.offsetLeft:0))/r,u=(o.top+(l&&s?s.offsetTop:0))/i,d=o.width/r,p=o.height/i;return{width:d,height:p,top:u,right:c+d,bottom:u+p,left:c,x:c,y:u}}function Kn(t){var e=it(t),n=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:o}}function Lr(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Yn(n)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function _e(t){return ie(t).getComputedStyle(t)}function fa(t){return["table","td","th"].indexOf(ge(t))>=0}function Pe(t){return((Ke(t)?t.ownerDocument:t.document)||window.document).documentElement}function en(t){return ge(t)==="html"?t:t.assignedSlot||t.parentNode||(Yn(t)?t.host:null)||Pe(t)}function Po(t){return!se(t)||_e(t).position==="fixed"?null:t.offsetParent}function pa(t){var e=/firefox/i.test(Nn()),n=/Trident/i.test(Nn());if(n&&se(t)){var o=_e(t);if(o.position==="fixed")return null}var r=en(t);for(Yn(r)&&(r=r.host);se(r)&&["html","body"].indexOf(ge(r))<0;){var i=_e(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function Tt(t){for(var e=ie(t),n=Po(t);n&&fa(n)&&_e(n).position==="static";)n=Po(n);return n&&(ge(n)==="html"||ge(n)==="body"&&_e(n).position==="static")?e:n||pa(t)||e}function Gn(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function gt(t,e,n){return Ye(t,Gt(e,n))}function ha(t,e,n){var o=gt(t,e,n);return o>n?n:o}function Pr(){return{top:0,right:0,bottom:0,left:0}}function $r(t){return Object.assign({},Pr(),t)}function Br(t,e){return e.reduce(function(n,o){return n[o]=t,n},{})}var ma=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,$r(typeof e!="number"?e:Br(e,ut))};function ga(t){var e,n=t.state,o=t.name,r=t.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=he(n.placement),l=Gn(s),c=[J,re].indexOf(s)>=0,u=c?"height":"width";if(!(!i||!a)){var d=ma(r.padding,n),p=Kn(i),h=l==="y"?q:J,g=l==="y"?oe:re,m=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],_=a[l]-n.rects.reference[l],O=Tt(i),T=O?l==="y"?O.clientHeight||0:O.clientWidth||0:0,D=m/2-_/2,v=d[h],S=T-p[u]-d[g],A=T/2-p[u]/2+D,I=gt(v,A,S),M=l;n.modifiersData[o]=(e={},e[M]=I,e.centerOffset=I-A,e)}}function va(t){var e=t.state,n=t.options,o=n.element,r=o===void 0?"[data-popper-arrow]":o;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Lr(e.elements.popper,r)&&(e.elements.arrow=r))}const Mr={name:"arrow",enabled:!0,phase:"main",fn:ga,effect:va,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function at(t){return t.split("-")[1]}var ba={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ya(t,e){var n=t.x,o=t.y,r=e.devicePixelRatio||1;return{x:rt(n*r)/r||0,y:rt(o*r)/r||0}}function $o(t){var e,n=t.popper,o=t.popperRect,r=t.placement,i=t.variation,a=t.offsets,s=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,p=a.x,h=p===void 0?0:p,g=a.y,m=g===void 0?0:g,_=typeof u=="function"?u({x:h,y:m}):{x:h,y:m};h=_.x,m=_.y;var O=a.hasOwnProperty("x"),T=a.hasOwnProperty("y"),D=J,v=q,S=window;if(c){var A=Tt(n),I="clientHeight",M="clientWidth";if(A===ie(n)&&(A=Pe(n),_e(A).position!=="static"&&s==="absolute"&&(I="scrollHeight",M="scrollWidth")),A=A,r===q||(r===J||r===re)&&i===ot){v=oe;var C=d&&A===S&&S.visualViewport?S.visualViewport.height:A[I];m-=C-o.height,m*=l?1:-1}if(r===J||(r===q||r===oe)&&i===ot){D=re;var x=d&&A===S&&S.visualViewport?S.visualViewport.width:A[M];h-=x-o.width,h*=l?1:-1}}var P=Object.assign({position:s},c&&ba),V=u===!0?ya({x:h,y:m},ie(n)):{x:h,y:m};if(h=V.x,m=V.y,l){var $;return Object.assign({},P,($={},$[v]=T?"0":"",$[D]=O?"0":"",$.transform=(S.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",$))}return Object.assign({},P,(e={},e[v]=T?m+"px":"",e[D]=O?h+"px":"",e.transform="",e))}function Ea(t){var e=t.state,n=t.options,o=n.gpuAcceleration,r=o===void 0?!0:o,i=n.adaptive,a=i===void 0?!0:i,s=n.roundOffsets,l=s===void 0?!0:s,c={placement:he(e.placement),variation:at(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,$o(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,$o(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Un={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ea,data:{}};var It={passive:!0};function _a(t){var e=t.state,n=t.instance,o=t.options,r=o.scroll,i=r===void 0?!0:r,a=o.resize,s=a===void 0?!0:a,l=ie(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,It)}),s&&l.addEventListener("resize",n.update,It),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,It)}),s&&l.removeEventListener("resize",n.update,It)}}const zn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_a,data:{}};var wa={left:"right",right:"left",bottom:"top",top:"bottom"};function Mt(t){return t.replace(/left|right|bottom|top/g,function(e){return wa[e]})}var Aa={start:"end",end:"start"};function Bo(t){return t.replace(/start|end/g,function(e){return Aa[e]})}function Xn(t){var e=ie(t),n=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:n,scrollTop:o}}function qn(t){return it(Pe(t)).left+Xn(t).scrollLeft}function Ta(t,e){var n=ie(t),o=Pe(t),r=n.visualViewport,i=o.clientWidth,a=o.clientHeight,s=0,l=0;if(r){i=r.width,a=r.height;var c=xr();(c||!c&&e==="fixed")&&(s=r.offsetLeft,l=r.offsetTop)}return{width:i,height:a,x:s+qn(t),y:l}}function Sa(t){var e,n=Pe(t),o=Xn(t),r=(e=t.ownerDocument)==null?void 0:e.body,i=Ye(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Ye(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-o.scrollLeft+qn(t),l=-o.scrollTop;return _e(r||n).direction==="rtl"&&(s+=Ye(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}function Jn(t){var e=_e(t),n=e.overflow,o=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function Rr(t){return["html","body","#document"].indexOf(ge(t))>=0?t.ownerDocument.body:se(t)&&Jn(t)?t:Rr(en(t))}function vt(t,e){var n;e===void 0&&(e=[]);var o=Rr(t),r=o===((n=t.ownerDocument)==null?void 0:n.body),i=ie(o),a=r?[i].concat(i.visualViewport||[],Jn(o)?o:[]):o,s=e.concat(a);return r?s:s.concat(vt(en(a)))}function In(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Oa(t,e){var n=it(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Mo(t,e,n){return e===jn?In(Ta(t,n)):Ke(e)?Oa(e,n):In(Sa(Pe(t)))}function Da(t){var e=vt(en(t)),n=["absolute","fixed"].indexOf(_e(t).position)>=0,o=n&&se(t)?Tt(t):t;return Ke(o)?e.filter(function(r){return Ke(r)&&Lr(r,o)&&ge(r)!=="body"}):[]}function ka(t,e,n,o){var r=e==="clippingParents"?Da(t):[].concat(e),i=[].concat(r,[n]),a=i[0],s=i.reduce(function(l,c){var u=Mo(t,c,o);return l.top=Ye(u.top,l.top),l.right=Gt(u.right,l.right),l.bottom=Gt(u.bottom,l.bottom),l.left=Ye(u.left,l.left),l},Mo(t,a,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Fr(t){var e=t.reference,n=t.element,o=t.placement,r=o?he(o):null,i=o?at(o):null,a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,l;switch(r){case q:l={x:a,y:e.y-n.height};break;case oe:l={x:a,y:e.y+e.height};break;case re:l={x:e.x+e.width,y:s};break;case J:l={x:e.x-n.width,y:s};break;default:l={x:e.x,y:e.y}}var c=r?Gn(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case Ve:l[c]=l[c]-(e[u]/2-n[u]/2);break;case ot:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function st(t,e){e===void 0&&(e={});var n=e,o=n.placement,r=o===void 0?t.placement:o,i=n.strategy,a=i===void 0?t.strategy:i,s=n.boundary,l=s===void 0?Er:s,c=n.rootBoundary,u=c===void 0?jn:c,d=n.elementContext,p=d===void 0?Qe:d,h=n.altBoundary,g=h===void 0?!1:h,m=n.padding,_=m===void 0?0:m,O=$r(typeof _!="number"?_:Br(_,ut)),T=p===Qe?_r:Qe,D=t.rects.popper,v=t.elements[g?T:p],S=ka(Ke(v)?v:v.contextElement||Pe(t.elements.popper),l,u,a),A=it(t.elements.reference),I=Fr({reference:A,element:D,strategy:"absolute",placement:r}),M=In(Object.assign({},D,I)),C=p===Qe?M:A,x={top:S.top-C.top+O.top,bottom:C.bottom-S.bottom+O.bottom,left:S.left-C.left+O.left,right:C.right-S.right+O.right},P=t.modifiersData.offset;if(p===Qe&&P){var V=P[r];Object.keys(x).forEach(function($){var z=[re,oe].indexOf($)>=0?1:-1,Z=[q,oe].indexOf($)>=0?"y":"x";x[$]+=V[Z]*z})}return x}function Ca(t,e){e===void 0&&(e={});var n=e,o=n.placement,r=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Wn:l,u=at(o),d=u?s?Cn:Cn.filter(function(g){return at(g)===u}):ut,p=d.filter(function(g){return c.indexOf(g)>=0});p.length===0&&(p=d);var h=p.reduce(function(g,m){return g[m]=st(t,{placement:m,boundary:r,rootBoundary:i,padding:a})[he(m)],g},{});return Object.keys(h).sort(function(g,m){return h[g]-h[m]})}function Na(t){if(he(t)===Zt)return[];var e=Mt(t);return[Bo(t),e,Bo(e)]}function Ia(t){var e=t.state,n=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,a=n.altAxis,s=a===void 0?!0:a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,g=h===void 0?!0:h,m=n.allowedAutoPlacements,_=e.options.placement,O=he(_),T=O===_,D=l||(T||!g?[Mt(_)]:Na(_)),v=[_].concat(D).reduce(function(Xe,Se){return Xe.concat(he(Se)===Zt?Ca(e,{placement:Se,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:m}):Se)},[]),S=e.rects.reference,A=e.rects.popper,I=new Map,M=!0,C=v[0],x=0;x<v.length;x++){var P=v[x],V=he(P),$=at(P)===Ve,z=[q,oe].indexOf(V)>=0,Z=z?"width":"height",F=st(e,{placement:P,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),G=z?$?re:J:$?oe:q;S[Z]>A[Z]&&(G=Mt(G));var de=Mt(G),be=[];if(i&&be.push(F[V]<=0),s&&be.push(F[G]<=0,F[de]<=0),be.every(function(Xe){return Xe})){C=P,M=!1;break}I.set(P,be)}if(M)for(var dt=g?3:1,ze=function(Se){var ft=v.find(function(kt){var Be=I.get(kt);if(Be)return Be.slice(0,Se).every(function(an){return an})});if(ft)return C=ft,"break"},$e=dt;$e>0;$e--){var Dt=ze($e);if(Dt==="break")break}e.placement!==C&&(e.modifiersData[o]._skip=!0,e.placement=C,e.reset=!0)}}const Hr={name:"flip",enabled:!0,phase:"main",fn:Ia,requiresIfExists:["offset"],data:{_skip:!1}};function Ro(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Fo(t){return[q,re,oe,J].some(function(e){return t[e]>=0})}function xa(t){var e=t.state,n=t.name,o=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,a=st(e,{elementContext:"reference"}),s=st(e,{altBoundary:!0}),l=Ro(a,o),c=Ro(s,r,i),u=Fo(l),d=Fo(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const jr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xa};function La(t,e,n){var o=he(t),r=[J,q].indexOf(o)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*r,[J,re].indexOf(o)>=0?{x:s,y:a}:{x:a,y:s}}function Pa(t){var e=t.state,n=t.options,o=t.name,r=n.offset,i=r===void 0?[0,0]:r,a=Wn.reduce(function(u,d){return u[d]=La(d,e.rects,i),u},{}),s=a[e.placement],l=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[o]=a}const Wr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Pa};function $a(t){var e=t.state,n=t.name;e.modifiersData[n]=Fr({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Qn={name:"popperOffsets",enabled:!0,phase:"read",fn:$a,data:{}};function Ba(t){return t==="x"?"y":"x"}function Ma(t){var e=t.state,n=t.options,o=t.name,r=n.mainAxis,i=r===void 0?!0:r,a=n.altAxis,s=a===void 0?!1:a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,p=n.tether,h=p===void 0?!0:p,g=n.tetherOffset,m=g===void 0?0:g,_=st(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),O=he(e.placement),T=at(e.placement),D=!T,v=Gn(O),S=Ba(v),A=e.modifiersData.popperOffsets,I=e.rects.reference,M=e.rects.popper,C=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,x=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(A){if(i){var $,z=v==="y"?q:J,Z=v==="y"?oe:re,F=v==="y"?"height":"width",G=A[v],de=G+_[z],be=G-_[Z],dt=h?-M[F]/2:0,ze=T===Ve?I[F]:M[F],$e=T===Ve?-M[F]:-I[F],Dt=e.elements.arrow,Xe=h&&Dt?Kn(Dt):{width:0,height:0},Se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Pr(),ft=Se[z],kt=Se[Z],Be=gt(0,I[F],Xe[F]),an=D?I[F]/2-dt-Be-ft-x.mainAxis:ze-Be-ft-x.mainAxis,yi=D?-I[F]/2+dt+Be+kt+x.mainAxis:$e+Be+kt+x.mainAxis,sn=e.elements.arrow&&Tt(e.elements.arrow),Ei=sn?v==="y"?sn.clientTop||0:sn.clientLeft||0:0,uo=($=P?.[v])!=null?$:0,_i=G+an-uo-Ei,wi=G+yi-uo,fo=gt(h?Gt(de,_i):de,G,h?Ye(be,wi):be);A[v]=fo,V[v]=fo-G}if(s){var po,Ai=v==="x"?q:J,Ti=v==="x"?oe:re,Me=A[S],Ct=S==="y"?"height":"width",ho=Me+_[Ai],mo=Me-_[Ti],ln=[q,J].indexOf(O)!==-1,go=(po=P?.[S])!=null?po:0,vo=ln?ho:Me-I[Ct]-M[Ct]-go+x.altAxis,bo=ln?Me+I[Ct]+M[Ct]-go-x.altAxis:mo,yo=h&&ln?ha(vo,Me,bo):gt(h?vo:ho,Me,h?bo:mo);A[S]=yo,V[S]=yo-Me}e.modifiersData[o]=V}}const Yr={name:"preventOverflow",enabled:!0,phase:"main",fn:Ma,requiresIfExists:["offset"]};function Ra(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Fa(t){return t===ie(t)||!se(t)?Xn(t):Ra(t)}function Ha(t){var e=t.getBoundingClientRect(),n=rt(e.width)/t.offsetWidth||1,o=rt(e.height)/t.offsetHeight||1;return n!==1||o!==1}function ja(t,e,n){n===void 0&&(n=!1);var o=se(e),r=se(e)&&Ha(e),i=Pe(e),a=it(t,r,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(o||!o&&!n)&&((ge(e)!=="body"||Jn(i))&&(s=Fa(e)),se(e)?(l=it(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=qn(i))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Wa(t){var e=new Map,n=new Set,o=[];t.forEach(function(i){e.set(i.name,i)});function r(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var l=e.get(s);l&&r(l)}}),o.push(i)}return t.forEach(function(i){n.has(i.name)||r(i)}),o}function Ya(t){var e=Wa(t);return Ir.reduce(function(n,o){return n.concat(e.filter(function(r){return r.phase===o}))},[])}function Va(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Ka(t){var e=t.reduce(function(n,o){var r=n[o.name];return n[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,n},{});return Object.keys(e).map(function(n){return e[n]})}var Ho={placement:"bottom",modifiers:[],strategy:"absolute"};function jo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function tn(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,o=n===void 0?[]:n,r=e.defaultOptions,i=r===void 0?Ho:r;return function(s,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ho,i),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},d=[],p=!1,h={state:u,setOptions:function(O){var T=typeof O=="function"?O(u.options):O;m(),u.options=Object.assign({},i,u.options,T),u.scrollParents={reference:Ke(s)?vt(s):s.contextElement?vt(s.contextElement):[],popper:vt(l)};var D=Ya(Ka([].concat(o,u.options.modifiers)));return u.orderedModifiers=D.filter(function(v){return v.enabled}),g(),h.update()},forceUpdate:function(){if(!p){var O=u.elements,T=O.reference,D=O.popper;if(jo(T,D)){u.rects={reference:ja(T,Tt(D),u.options.strategy==="fixed"),popper:Kn(D)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(x){return u.modifiersData[x.name]=Object.assign({},x.data)});for(var v=0;v<u.orderedModifiers.length;v++){if(u.reset===!0){u.reset=!1,v=-1;continue}var S=u.orderedModifiers[v],A=S.fn,I=S.options,M=I===void 0?{}:I,C=S.name;typeof A=="function"&&(u=A({state:u,options:M,name:C,instance:h})||u)}}}},update:Va(function(){return new Promise(function(_){h.forceUpdate(),_(u)})}),destroy:function(){m(),p=!0}};if(!jo(s,l))return h;h.setOptions(c).then(function(_){!p&&c.onFirstUpdate&&c.onFirstUpdate(_)});function g(){u.orderedModifiers.forEach(function(_){var O=_.name,T=_.options,D=T===void 0?{}:T,v=_.effect;if(typeof v=="function"){var S=v({state:u,name:O,instance:h,options:D}),A=function(){};d.push(S||A)}})}function m(){d.forEach(function(_){return _()}),d=[]}return h}}var Ga=tn(),Ua=[zn,Qn,Un,Vn],za=tn({defaultModifiers:Ua}),Xa=[zn,Qn,Un,Vn,Wr,Hr,Yr,Mr,jr],Vr=tn({defaultModifiers:Xa});const qa=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Dr,afterRead:Tr,afterWrite:Nr,applyStyles:Vn,arrow:Mr,auto:Zt,basePlacements:ut,beforeMain:Sr,beforeRead:wr,beforeWrite:kr,bottom:oe,clippingParents:Er,computeStyles:Un,createPopper:Vr,createPopperBase:Ga,createPopperLite:za,detectOverflow:st,end:ot,eventListeners:zn,flip:Hr,hide:jr,left:J,main:Or,modifierPhases:Ir,offset:Wr,placements:Wn,popper:Qe,popperGenerator:tn,popperOffsets:Qn,preventOverflow:Yr,read:Ar,reference:_r,right:re,start:Ve,top:q,variationPlacements:Cn,viewport:jn,write:Cr},Symbol.toStringTag,{value:"Module"})),Wo="dropdown",Ja="bs.dropdown",Ue=`.${Ja}`,Zn=".data-api",Qa="Escape",Yo="Tab",Za="ArrowUp",Vo="ArrowDown",es=2,ts=`hide${Ue}`,ns=`hidden${Ue}`,os=`show${Ue}`,rs=`shown${Ue}`,Kr=`click${Ue}${Zn}`,Gr=`keydown${Ue}${Zn}`,is=`keyup${Ue}${Zn}`,Ze="show",as="dropup",ss="dropend",ls="dropstart",cs="dropup-center",us="dropdown-center",je='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ds=`${je}.${Ze}`,Rt=".dropdown-menu",fs=".navbar",ps=".navbar-nav",hs=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ms=Le()?"top-end":"top-start",gs=Le()?"top-start":"top-end",vs=Le()?"bottom-end":"bottom-start",bs=Le()?"bottom-start":"bottom-end",ys=Le()?"left-start":"right-start",Es=Le()?"right-start":"left-start",_s="top",ws="bottom",As={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ts={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class le extends Hn{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=j.next(this._element,Rt)[0]||j.prev(this._element,Rt)[0]||j.findOne(Rt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return As}static get DefaultType(){return Ts}static get NAME(){return Wo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(At(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!E.trigger(this._element,os,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ps))for(const o of[].concat(...document.body.children))E.on(o,"mouseover",Eo);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ze),this._element.classList.add(Ze),E.trigger(this._element,rs,e)}}hide(){if(At(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!E.trigger(this._element,ts,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))E.off(o,"mouseover",Eo);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ze),this._element.classList.remove(Ze),this._element.setAttribute("aria-expanded","false"),We.removeDataAttribute(this._menu,"popper"),E.trigger(this._element,ns,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Ie(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Wo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof qa>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Ie(this._config.reference)?e=Vt(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=Vr(e,this._menu,n)}_isShown(){return this._menu.classList.contains(Ze)}_getPlacement(){const e=this._parent;if(e.classList.contains(ss))return ys;if(e.classList.contains(ls))return Es;if(e.classList.contains(cs))return _s;if(e.classList.contains(us))return ws;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(as)?n?gs:ms:n?bs:vs}_detectNavbar(){return this._element.closest(fs)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(We.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...ke(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const o=j.find(hs,this._menu).filter(r=>Qt(r));o.length&&Ni(o,n,e===Vo,!o.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=le.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===es||e.type==="keyup"&&e.key!==Yo)return;const n=j.find(ds);for(const o of n){const r=le.getInstance(o);if(!r||r._config.autoClose===!1)continue;const i=e.composedPath(),a=i.includes(r._menu);if(i.includes(r._element)||r._config.autoClose==="inside"&&!a||r._config.autoClose==="outside"&&a||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Yo||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const s={relatedTarget:r._element};e.type==="click"&&(s.clickEvent=e),r._completeHide(s)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),o=e.key===Qa,r=[Za,Vo].includes(e.key);if(!r&&!o||n&&!o)return;e.preventDefault();const i=this.matches(je)?this:j.prev(this,je)[0]||j.next(this,je)[0]||j.findOne(je,e.delegateTarget.parentNode),a=le.getOrCreateInstance(i);if(r){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),i.focus())}}E.on(document,Gr,je,le.dataApiKeydownHandler);E.on(document,Gr,Rt,le.dataApiKeydownHandler);E.on(document,Kr,le.clearMenus);E.on(document,is,le.clearMenus);E.on(document,Kr,je,function(t){t.preventDefault(),le.getOrCreateInstance(this).toggle()});Mn(le);function nn(t){return window.btoa(encodeURIComponent(t))}function on(t){return decodeURIComponent(window.atob(t))}function eo(t){return`/img/${t}.svg`}function lt(t,e={}){let n=document.createElement("template"),o=document.querySelector(`template#${t}`).innerHTML;for(let r in e)o=o.replaceAll(r,e[r]);return n.innerHTML=o.trim(),n.content.firstChild}function xn(t,e=!1){switch(t){case"kmb":return e?"#FFFFFF":"#FF0000";case"ctb":return e?"#0080FF":"#F9BF00";case"nwfb":return e?"#7000CC":"#EF7925";case"nlb":return e?"#3DC9B4":"#2A897B";case"gmb":return e?"#53B776":"#337149";case"mtr":return e?"#53B776":"#1A81FF"}return"#000"}function Ur(t){switch(t){case"TWL":return"#ff0000";case"KTL":return"#1a9431";case"ISL":return"#0860a8";case"SIL":return"#b5bd00";case"TKL":return"#6b208b";case"AEL":return"#1c7670";case"TCL":return"#fe7f1d";case"DRL":return"#f550a6";case"EAL":return"#5eb6e4";case"TML":return"#9a3b26";case"WRL":return"#a40084"}return"#000"}function Ss(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}const zr="/api/route/{route}.json",Os="/api/spatial/{path}.json",Ds="/api/eta",ks="/update.json",Xr=document.getElementById("searchAlert"),xt=document.getElementById("searchResult"),qr=new Ee("#searchDrawer");new le("#routeTypeDropdown");new le("#mtrDropdown");const Cs="https://mapapi.geodata.gov.hk/gs/api/v1.0.0/xyz/basemap/wgs84/{z}/{x}/{y}.png",Ns="https://mapapi.geodata.gov.hk/gs/api/v1.0.0/xyz/imagery/wgs84/{z}/{x}/{y}.png",Is="https://mapapi.geodata.gov.hk/gs/api/v1.0.0/xyz/label/hk/tc/wgs84/{z}/{x}/{y}.png",to='<a target="_blank" href="https://portal.csdi.gov.hk/">&copy; 地圖版權屬香港特區政府</a><img style="width:16px;height:16px;" src="https://api.hkmapservice.gov.hk/mapapi/landsdlogo.jpg" />',Ko={delay:400,dashArray:[20,40],weight:5,paused:!1,reverse:!1,hardwareAccelerated:!0},Jr='<span class="loader m-3"></span>',Qr={className:"etaPopup",maxWidth:Ss()},xs=(t,e)=>{let n=`<div class="alert alert-${e}" role="alert"><div>${t}</div></div>`;Xr.innerHTML+=n},Ls=()=>{Xr.innerHTML=""},Ps=()=>{Ls(),xt.innerHTML='<ul class="list-group placeholder-glow"><li class="list-group-item"><span class="placeholder col-12"></span></li><li class="list-group-item"><span class="placeholder col-12"></span></li></ul>';let t=document.getElementById("routeInput").value.toUpperCase();fetch(zr.replace("{route}",t)).then(e=>e.json()).then(e=>{xt.innerHTML="",e.forEach((n,o)=>{let r=`<div class="d-flex align-items-center list-group-item list-group-item-action" id="route-${o}" onclick="renderRoute('route-${o}', '${nn(JSON.stringify(n))}')"><div class="flex-shrink-0"><img class="logo" src="${eo(n.company)}" alt="${n.company}"/></div><div class="flex-grow-1 ms-3">${n.orig}➡️${n.dest}</div></div>`;xt.innerHTML+=r})}).catch(function(e){console.log(e),xs(`Cannot find route ${t} !`,"danger"),xt.innerHTML=""})},$s=(t,e)=>{Array.from(document.querySelectorAll(".list-group-item, .dropdown-item")).forEach(function(a){a.classList.remove("active")}),document.getElementById(t).classList.add("active");const n=JSON.parse(on(e));pe.clearLayers(),n.stopList.forEach(a=>{const s={company:n.company,route:n.route,routeId:n.routeId,routeType:n.routeType,routeDesc:`${n.orig}➡️${n.dest}`,dir:n.dir,stop:a.id,name:a.name,address:`${a.lat},${a.long}`,street:a.street,fare:a.fare,fareHoliday:a.fareHoliday};var l=L.marker([a.lat,a.long],s).addTo(xe);l.bindPopup(Jr,Qr),pe.addLayer(l)});let o;const r=xn(n.company,!1),i=xn(n.company,!0);switch(n.company){case"kmb":o=`kmb/${n.route}/${n.dir}_${n.routeType}`;break;case"ctb":o=`ctb/${n.route}/${n.dir}`;break;case"nwfb":o=`nwfb/${n.route}/${n.dir}`;break;case"nlb":o=`nlb/${n.route}/${n.routeId}`;break;case"mtr":o=`mtr/${n.route}/${n.dir}`;break;case"gmb":o="";break}o&&fetch(Os.replace("{path}",`${o}`)).then(a=>a.json()).then(a=>{let s=L.polyline.antPath(a,{color:r,pluseColor:i,...Ko});pe.addLayer(s)}).catch(function(a){let s=n.stopList.map(c=>[c.lat,c.long]);s=[s];let l=L.polyline.antPath(s,{color:r,pluseColor:i,...Ko});pe.addLayer(l)}),pe.addTo(xe),xe.fitBounds(pe.getBounds()),window.innerWidth<768&&qr.hide()},Bs=t=>{pe.clearLayers();let e=t.target.closest("div.list-group-item");const n=JSON.parse(on(e.dataset.routeJson)),o=n.address.split(","),r={company:n.company,route:n.route,routeId:n.routeId,routeType:n.routeType,routeDesc:n.routeDesc,dir:n.dir,stop:n.stop,name:n.name,address:n.address,street:n.street,fare:n.fare,fareHoliday:n.fareHoliday};var i=L.marker(o,r).addTo(xe);i.bindPopup(Jr,Qr),pe.addLayer(i),pe.addTo(xe),xe.fitBounds(pe.getBounds()),i.openPopup(),window.innerWidth<768&&qr.hide()},hn=async t=>fetch(Ds,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify([t])}).then(e=>e.json()).then(e=>e[0]).catch(e=>console.error(e)),Ms=async t=>{let e="",n="",o="",r="";var i=t.popup._source;let a=lt("bookmarkBtn");const s={company:i.options.company,route:i.options.route,routeId:i.options.routeId,routeType:i.options.routeType,routeDesc:i.options.routeDesc,dir:i.options.dir,stop:i.options.stop,name:i.options.name,address:i.options.address,street:i.options.street,fare:i.options.fare,fareHoliday:i.options.fareHoliday};if(i.options.company==="mtr_hr"){let c={...s,dir:"UT"},u={...s,dir:"DT"};const d=await hn({...i.options,dir:"UT"}).then(h=>h.map(g=>{let m=`<li><span class="badge rounded-pill text-bg-secondary me-1">${g.platform}</span>往${g.dest}`;return g.remark&&(m+=` (${g.remark})`),g.eta!=null&&(m+=`<span class="float-end">${g.eta>-1?0:g.eta}分鐘</span>`),m+="</li>",m}).join("")).catch(()=>"<div>未有資料</div>"),p=await hn({...i.options,dir:"DT"}).then(h=>h.map(g=>{let m=`<div><span class="badge rounded-pill text-bg-secondary me-1">${g.platform}</span>往${g.dest}`;g.remark&&(m+=` (${g.remark})`),g.eta!=null&&(m+=`<span class="float-end">${g.eta>-1?0:g.eta}分鐘</span>`),m+="</div>"}).join("")).catch(()=>"<div>未有資料</div>");e=`<div class="row">
        <div class="col">${d}</div>
        <div class="col-auto">${isBoomarked(c)?a:mn(c)}</div>
        </div>
        <hr class="my-2"><div class="row">
        <div class="col">${p}</div>
        <div class="col-auto">${isBoomarked(u)?a:mn(u)}</div>
        </div>`,o=`background-color: ${Ur(i.options.routeId)}`,r="d-none",a=""}else isBoomarked(i.options)&&(a=mn(s)),e=`<ul>${await hn(i.options).then(u=>u.map(d=>{let p="<li>";return d.eta!=null&&(p+=`${d.eta>-1?0:d.eta}分鐘`),d.remark&&(p+=` (${d.remark})`),p+="</li>",p}).join("")).catch(()=>"<li>未有資料</li>")}</ul>`,o=`background-color: ${xn(i.options.company)}`,n=i.options.routeDesc;const l=lt("etaPopup",{"{{companyLogoClass}}":r,"{{companyLogo}}":eo(i.options.company),"{{routeNo}}":i.options.route,"{{title}}":i.options.name,"{{subtitle}}":n,"{{titlecss}}":o,"{{bookmarkBtn}}":a,"{{body}}":e});i._popup.setContent(l)},mn=(t,e=null)=>{if(e===null){let n=document.querySelectorAll("div.list-group-item.group");n.length==0?(e="預設群組",addGroup(e)):e=n[0].dataset.groupName}return`<button class="btn btn-sm btn-outline-warning" onclick="addBookmark('${e}', '${nn(JSON.stringify(t))}', true)"><i id="bookmarkPopupIcon" class="bi bi-bookmark-plus" aria-label="收藏路線"></i></button>`},Rs=(t,e)=>{document.getElementById("routeTypeSelected").innerText=t.innerText,Array.from(document.querySelectorAll("[data-route-type]")).forEach(function(n){n.dataset.routeType===e?n.classList.remove("d-none"):n.classList.add("d-none")})};document.getElementById("btnSearch").onclick=Ps;document.getElementById("routeInput").addEventListener("keypress",function(t){t.key==="Enter"&&(t.preventDefault(),document.getElementById("btnSearch").click())});var pe=new L.FeatureGroup;const Zr=L.tileLayer(Cs,{maxZoom:20,attribution:to}),Fs=L.tileLayer(Ns,{maxZoom:20,attribution:to}),ei=L.tileLayer(Is,{maxZoom:20,attribution:to}),Hs={地形圖:Zr,影像地圖:Fs},js={地名標籤:ei},xe=L.map("map",{center:[22.322005998683245,114.17846497109828],zoom:13,layers:[Zr,ei]});L.control.layers(Hs,js,{hideSingleBase:!0}).addTo(xe);xe.on("popupopen",Ms);fetch(ks).then(t=>t.json()).then(t=>{document.getElementById("getSiriShortcut").setAttribute("href",t.url),document.getElementById("siriShortcutVersion").innerHTML=`(v${t.version})`});await fetch(zr.replace("{route}","mtr_hr")).then(t=>t.json()).then(t=>(t.filter(e=>e.dir==="UT").forEach(e=>{let n=lt("mtrRouteRow",{"{{route}}":`${e.route} (${e.orig}↔️${e.dest})`,"{{routeId}}":e.routeId,"{{json}}":nn(JSON.stringify(e)),"{{backgroundColor}}":Ur(e.routeId)});document.getElementById("routeInputMtrList").append(n)}),t));window.renderRoute=$s;window.renderBookmarkStop=Bs;window.routeTypeClick=Rs;const Ws="modal",Ys="bs.modal",ce=`.${Ys}`,Vs=".data-api",Ks="Escape",Gs=`hide${ce}`,Us=`hidePrevented${ce}`,ti=`hidden${ce}`,ni=`show${ce}`,zs=`shown${ce}`,Xs=`resize${ce}`,qs=`click.dismiss${ce}`,Js=`mousedown.dismiss${ce}`,Qs=`keydown.dismiss${ce}`,Zs=`click${ce}${Vs}`,Go="modal-open",el="fade",Uo="show",gn="modal-static",tl=".modal.show",nl=".modal-dialog",ol=".modal-body",rl='[data-bs-toggle="modal"]',il={backdrop:!0,focus:!0,keyboard:!0},al={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ge extends Hn{constructor(e,n){super(e,n),this._dialog=j.findOne(nl,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new kn,this._addEventListeners()}static get Default(){return il}static get DefaultType(){return al}static get NAME(){return Ws}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||E.trigger(this._element,ni,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Go),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||E.trigger(this._element,Gs).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Uo),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){E.off(window,ce),E.off(this._dialog,ce),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new hr({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new gr({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=j.findOne(ol,this._dialog);n&&(n.scrollTop=0),rr(this._element),this._element.classList.add(Uo);const o=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,E.trigger(this._element,zs,{relatedTarget:e})};this._queueCallback(o,this._dialog,this._isAnimated())}_addEventListeners(){E.on(this._element,Qs,e=>{if(e.key===Ks){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),E.on(window,Xs,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),E.on(this._element,Js,e=>{E.one(this._element,qs,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Go),this._resetAdjustments(),this._scrollBar.reset(),E.trigger(this._element,ti)})}_isAnimated(){return this._element.classList.contains(el)}_triggerBackdropTransition(){if(E.trigger(this._element,Us).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,o=this._element.style.overflowY;o==="hidden"||this._element.classList.contains(gn)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(gn),this._queueCallback(()=>{this._element.classList.remove(gn),this._queueCallback(()=>{this._element.style.overflowY=o},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),o=n>0;if(o&&!e){const r=Le()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!o&&e){const r=Le()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const o=Ge.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof o[e]>"u")throw new TypeError(`No method named "${e}"`);o[e](n)}})}}E.on(document,Zs,rl,function(t){const e=j.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),E.one(e,ni,r=>{r.defaultPrevented||E.one(e,ti,()=>{Qt(this)&&this.focus()})});const n=j.findOne(tl);n&&Ge.getInstance(n).hide(),Ge.getOrCreateInstance(e).toggle(this)});mr(Ge);Mn(Ge);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function zo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zo(Object(n),!0).forEach(function(o){sl(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Ft(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ft=function(e){return typeof e}:Ft=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(t)}function sl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function we(){return we=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},we.apply(this,arguments)}function ll(t,e){if(t==null)return{};var n={},o=Object.keys(t),r,i;for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function cl(t,e){if(t==null)return{};var n=ll(t,e),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}var ul="1.15.0";function ye(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Te=ye(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),St=ye(/Edge/i),Xo=ye(/firefox/i),bt=ye(/safari/i)&&!ye(/chrome/i)&&!ye(/android/i),oi=ye(/iP(ad|od|hone)/i),ri=ye(/chrome/i)&&ye(/android/i),ii={capture:!1,passive:!1};function N(t,e,n){t.addEventListener(e,n,!Te&&ii)}function k(t,e,n){t.removeEventListener(e,n,!Te&&ii)}function Ut(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function dl(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function fe(t,e,n,o){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Ut(t,e):Ut(t,e))||o&&t===n)return t;if(t===n)break}while(t=dl(t))}return null}var qo=/\s+/g;function ee(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(qo," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(qo," ")}}function y(t,e,n){var o=t&&t.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=n+(typeof n=="string"?"":"px")}}function nt(t,e){var n="";if(typeof t=="string")n=t;else do{var o=y(t,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function ai(t,e,n){if(t){var o=t.getElementsByTagName(e),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function me(){var t=document.scrollingElement;return t||document.documentElement}function Y(t,e,n,o,r){if(!(!t.getBoundingClientRect&&t!==window)){var i,a,s,l,c,u,d;if(t!==window&&t.parentNode&&t!==me()?(i=t.getBoundingClientRect(),a=i.top,s=i.left,l=i.bottom,c=i.right,u=i.height,d=i.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!Te))do if(r&&r.getBoundingClientRect&&(y(r,"transform")!=="none"||n&&y(r,"position")!=="static")){var p=r.getBoundingClientRect();a-=p.top+parseInt(y(r,"border-top-width")),s-=p.left+parseInt(y(r,"border-left-width")),l=a+i.height,c=s+i.width;break}while(r=r.parentNode);if(o&&t!==window){var h=nt(r||t),g=h&&h.a,m=h&&h.d;h&&(a/=m,s/=g,d/=g,u/=m,l=a+u,c=s+d)}return{top:a,left:s,bottom:l,right:c,width:d,height:u}}}function Jo(t,e,n){for(var o=Ne(t,!0),r=Y(t)[e];o;){var i=Y(o)[n],a=void 0;if(n==="top"||n==="left"?a=r>=i:a=r<=i,!a)return o;if(o===me())break;o=Ne(o,!1)}return!1}function ct(t,e,n,o){for(var r=0,i=0,a=t.children;i<a.length;){if(a[i].style.display!=="none"&&a[i]!==b.ghost&&(o||a[i]!==b.dragged)&&fe(a[i],n.draggable,t,!1)){if(r===e)return a[i];r++}i++}return null}function no(t,e){for(var n=t.lastElementChild;n&&(n===b.ghost||y(n,"display")==="none"||e&&!Ut(n,e));)n=n.previousElementSibling;return n||null}function ae(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==b.clone&&(!e||Ut(t,e))&&n++;return n}function Qo(t){var e=0,n=0,o=me();if(t)do{var r=nt(t),i=r.a,a=r.d;e+=t.scrollLeft*i,n+=t.scrollTop*a}while(t!==o&&(t=t.parentNode));return[e,n]}function fl(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n)}return-1}function Ne(t,e){if(!t||!t.getBoundingClientRect)return me();var n=t,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=y(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return me();if(o||e)return n;o=!0}}while(n=n.parentNode);return me()}function pl(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function vn(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var yt;function si(t,e){return function(){if(!yt){var n=arguments,o=this;n.length===1?t.call(o,n[0]):t.apply(o,n),yt=setTimeout(function(){yt=void 0},e)}}}function hl(){clearTimeout(yt),yt=void 0}function li(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function ci(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var ne="Sortable"+new Date().getTime();function ml(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(r){if(!(y(r,"display")==="none"||r===b.ghost)){t.push({target:r,rect:Y(r)});var i=ve({},t[t.length-1].rect);if(r.thisAnimationDuration){var a=nt(r,!0);a&&(i.top-=a.f,i.left-=a.e)}r.fromRect=i}})}},addAnimationState:function(o){t.push(o)},removeAnimationState:function(o){t.splice(fl(t,{target:o}),1)},animateAll:function(o){var r=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var i=!1,a=0;t.forEach(function(s){var l=0,c=s.target,u=c.fromRect,d=Y(c),p=c.prevFromRect,h=c.prevToRect,g=s.rect,m=nt(c,!0);m&&(d.top-=m.f,d.left-=m.e),c.toRect=d,c.thisAnimationDuration&&vn(p,d)&&!vn(u,d)&&(g.top-d.top)/(g.left-d.left)===(u.top-d.top)/(u.left-d.left)&&(l=vl(g,p,h,r.options)),vn(d,u)||(c.prevFromRect=u,c.prevToRect=d,l||(l=r.options.animation),r.animate(c,g,d,l)),l&&(i=!0,a=Math.max(a,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),i?e=setTimeout(function(){typeof o=="function"&&o()},a):typeof o=="function"&&o(),t=[]},animate:function(o,r,i,a){if(a){y(o,"transition",""),y(o,"transform","");var s=nt(this.el),l=s&&s.a,c=s&&s.d,u=(r.left-i.left)/(l||1),d=(r.top-i.top)/(c||1);o.animatingX=!!u,o.animatingY=!!d,y(o,"transform","translate3d("+u+"px,"+d+"px,0)"),this.forRepaintDummy=gl(o),y(o,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),y(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){y(o,"transition",""),y(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},a)}}}}function gl(t){return t.offsetWidth}function vl(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}var qe=[],bn={initializeByDefault:!0},Ot={mount:function(e){for(var n in bn)bn.hasOwnProperty(n)&&!(n in e)&&(e[n]=bn[n]);qe.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),qe.push(e)},pluginEvent:function(e,n,o){var r=this;this.eventCanceled=!1,o.cancel=function(){r.eventCanceled=!0};var i=e+"Global";qe.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][i]&&n[a.pluginName][i](ve({sortable:n},o)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](ve({sortable:n},o)))})},initializePlugins:function(e,n,o,r){qe.forEach(function(s){var l=s.pluginName;if(!(!e.options[l]&&!s.initializeByDefault)){var c=new s(e,n,e.options);c.sortable=e,c.options=e.options,e[l]=c,we(o,c.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);typeof a<"u"&&(e.options[i]=a)}},getEventProperties:function(e,n){var o={};return qe.forEach(function(r){typeof r.eventProperties=="function"&&we(o,r.eventProperties.call(n[r.pluginName],e))}),o},modifyOption:function(e,n,o){var r;return qe.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(r=i.optionListeners[n].call(e[i.pluginName],o))}),r}};function bl(t){var e=t.sortable,n=t.rootEl,o=t.name,r=t.targetEl,i=t.cloneEl,a=t.toEl,s=t.fromEl,l=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,p=t.originalEvent,h=t.putSortable,g=t.extraEventProperties;if(e=e||n&&n[ne],!!e){var m,_=e.options,O="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Te&&!St?m=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(o,!0,!0)),m.to=a||n,m.from=s||n,m.item=r||n,m.clone=i,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=p,m.pullMode=h?h.lastPutMode:void 0;var T=ve(ve({},g),Ot.getEventProperties(o,e));for(var D in T)m[D]=T[D];n&&n.dispatchEvent(m),_[O]&&_[O].call(e,m)}}var yl=["evt"],Q=function(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=o.evt,i=cl(o,yl);Ot.pluginEvent.bind(b)(e,n,ve({dragEl:f,parentEl:H,ghostEl:w,rootEl:B,nextEl:He,lastDownEl:Ht,cloneEl:R,cloneHidden:Ce,dragStarted:pt,putSortable:K,activeSortable:b.active,originalEvent:r,oldIndex:tt,oldDraggableIndex:Et,newIndex:te,newDraggableIndex:De,hideGhostForTarget:pi,unhideGhostForTarget:hi,cloneNowHidden:function(){Ce=!0},cloneNowShown:function(){Ce=!1},dispatchSortableEvent:function(s){X({sortable:n,name:s,originalEvent:r})}},i))};function X(t){bl(ve({putSortable:K,cloneEl:R,targetEl:f,rootEl:B,oldIndex:tt,oldDraggableIndex:Et,newIndex:te,newDraggableIndex:De},t))}var f,H,w,B,He,Ht,R,Ce,tt,te,Et,De,Lt,K,et=!1,zt=!1,Xt=[],Re,ue,yn,En,Zo,er,pt,Je,_t,wt=!1,Pt=!1,jt,U,_n=[],Ln=!1,qt=[],rn=typeof document<"u",$t=oi,tr=St||Te?"cssFloat":"float",El=rn&&!ri&&!oi&&"draggable"in document.createElement("div"),ui=function(){if(rn){if(Te)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),di=function(e,n){var o=y(e),r=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),i=ct(e,0,n),a=ct(e,1,n),s=i&&y(i),l=a&&y(a),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Y(i).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Y(a).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&s.float!=="none"){var d=s.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return i&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||c>=r&&o[tr]==="none"||a&&o[tr]==="none"&&c+u>r)?"vertical":"horizontal"},_l=function(e,n,o){var r=o?e.left:e.top,i=o?e.right:e.bottom,a=o?e.width:e.height,s=o?n.left:n.top,l=o?n.right:n.bottom,c=o?n.width:n.height;return r===s||i===l||r+a/2===s+c/2},wl=function(e,n){var o;return Xt.some(function(r){var i=r[ne].options.emptyInsertThreshold;if(!(!i||no(r))){var a=Y(r),s=e>=a.left-i&&e<=a.right+i,l=n>=a.top-i&&n<=a.bottom+i;if(s&&l)return o=r}}),o},fi=function(e){function n(i,a){return function(s,l,c,u){var d=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(i==null&&(a||d))return!0;if(i==null||i===!1)return!1;if(a&&i==="clone")return i;if(typeof i=="function")return n(i(s,l,c,u),a)(s,l,c,u);var p=(a?s:l).options.group.name;return i===!0||typeof i=="string"&&i===p||i.join&&i.indexOf(p)>-1}}var o={},r=e.group;(!r||Ft(r)!="object")&&(r={name:r}),o.name=r.name,o.checkPull=n(r.pull,!0),o.checkPut=n(r.put),o.revertClone=r.revertClone,e.group=o},pi=function(){!ui&&w&&y(w,"display","none")},hi=function(){!ui&&w&&y(w,"display","")};rn&&!ri&&document.addEventListener("click",function(t){if(zt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),zt=!1,!1},!0);var Fe=function(e){if(f){e=e.touches?e.touches[0]:e;var n=wl(e.clientX,e.clientY);if(n){var o={};for(var r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[ne]._onDragOver(o)}}},Al=function(e){f&&f.parentNode[ne]._isOutsideThisEl(e.target)};function b(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=we({},e),t[ne]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return di(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:b.supportPointer!==!1&&"PointerEvent"in window&&!bt,emptyInsertThreshold:5};Ot.initializePlugins(this,t,n);for(var o in n)!(o in e)&&(e[o]=n[o]);fi(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:El,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?N(t,"pointerdown",this._onTapStart):(N(t,"mousedown",this._onTapStart),N(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(N(t,"dragover",this),N(t,"dragenter",this)),Xt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),we(this,ml())}b.prototype={constructor:b,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Je=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,f):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,r=this.options,i=r.preventOnFilter,a=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(s||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,u=r.filter;if(Il(o),!f&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&bt&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=fe(l,r.draggable,o,!1),!(l&&l.animated)&&Ht!==l)){if(tt=ae(l),Et=ae(l,r.draggable),typeof u=="function"){if(u.call(this,e,l,this)){X({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:o,fromEl:o}),Q("filter",n,{evt:e}),i&&e.cancelable&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(d){if(d=fe(c,d.trim(),o,!1),d)return X({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:o,toEl:o}),Q("filter",n,{evt:e}),!0}),u)){i&&e.cancelable&&e.preventDefault();return}r.handle&&!fe(c,r.handle,o,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,n,o){var r=this,i=r.el,a=r.options,s=i.ownerDocument,l;if(o&&!f&&o.parentNode===i){var c=Y(o);if(B=i,f=o,H=f.parentNode,He=f.nextSibling,Ht=o,Lt=a.group,b.dragged=f,Re={target:f,clientX:(n||e).clientX,clientY:(n||e).clientY},Zo=Re.clientX-c.left,er=Re.clientY-c.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,f.style["will-change"]="all",l=function(){if(Q("delayEnded",r,{evt:e}),b.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Xo&&r.nativeDraggable&&(f.draggable=!0),r._triggerDragStart(e,n),X({sortable:r,name:"choose",originalEvent:e}),ee(f,a.chosenClass,!0)},a.ignore.split(",").forEach(function(u){ai(f,u.trim(),wn)}),N(s,"dragover",Fe),N(s,"mousemove",Fe),N(s,"touchmove",Fe),N(s,"mouseup",r._onDrop),N(s,"touchend",r._onDrop),N(s,"touchcancel",r._onDrop),Xo&&this.nativeDraggable&&(this.options.touchStartThreshold=4,f.draggable=!0),Q("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(St||Te))){if(b.eventCanceled){this._onDrop();return}N(s,"mouseup",r._disableDelayedDrag),N(s,"touchend",r._disableDelayedDrag),N(s,"touchcancel",r._disableDelayedDrag),N(s,"mousemove",r._delayedDragTouchMoveHandler),N(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&N(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){f&&wn(f),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;k(e,"mouseup",this._disableDelayedDrag),k(e,"touchend",this._disableDelayedDrag),k(e,"touchcancel",this._disableDelayedDrag),k(e,"mousemove",this._delayedDragTouchMoveHandler),k(e,"touchmove",this._delayedDragTouchMoveHandler),k(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?N(document,"pointermove",this._onTouchMove):n?N(document,"touchmove",this._onTouchMove):N(document,"mousemove",this._onTouchMove):(N(f,"dragend",this),N(B,"dragstart",this._onDragStart));try{document.selection?Wt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(et=!1,B&&f){Q("dragStarted",this,{evt:n}),this.nativeDraggable&&N(document,"dragover",Al);var o=this.options;!e&&ee(f,o.dragClass,!1),ee(f,o.ghostClass,!0),b.active=this,e&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(ue){this._lastX=ue.clientX,this._lastY=ue.clientY,pi();for(var e=document.elementFromPoint(ue.clientX,ue.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ue.clientX,ue.clientY),e!==n);)n=e;if(f.parentNode[ne]._isOutsideThisEl(e),n)do{if(n[ne]){var o=void 0;if(o=n[ne]._onDragOver({clientX:ue.clientX,clientY:ue.clientY,target:e,rootEl:n}),o&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);hi()}},_onTouchMove:function(e){if(Re){var n=this.options,o=n.fallbackTolerance,r=n.fallbackOffset,i=e.touches?e.touches[0]:e,a=w&&nt(w,!0),s=w&&a&&a.a,l=w&&a&&a.d,c=$t&&U&&Qo(U),u=(i.clientX-Re.clientX+r.x)/(s||1)+(c?c[0]-_n[0]:0)/(s||1),d=(i.clientY-Re.clientY+r.y)/(l||1)+(c?c[1]-_n[1]:0)/(l||1);if(!b.active&&!et){if(o&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(w){a?(a.e+=u-(yn||0),a.f+=d-(En||0)):a={a:1,b:0,c:0,d:1,e:u,f:d};var p="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");y(w,"webkitTransform",p),y(w,"mozTransform",p),y(w,"msTransform",p),y(w,"transform",p),yn=u,En=d,ue=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!w){var e=this.options.fallbackOnBody?document.body:B,n=Y(f,!0,$t,!0,e),o=this.options;if($t){for(U=e;y(U,"position")==="static"&&y(U,"transform")==="none"&&U!==document;)U=U.parentNode;U!==document.body&&U!==document.documentElement?(U===document&&(U=me()),n.top+=U.scrollTop,n.left+=U.scrollLeft):U=me(),_n=Qo(U)}w=f.cloneNode(!0),ee(w,o.ghostClass,!1),ee(w,o.fallbackClass,!0),ee(w,o.dragClass,!0),y(w,"transition",""),y(w,"transform",""),y(w,"box-sizing","border-box"),y(w,"margin",0),y(w,"top",n.top),y(w,"left",n.left),y(w,"width",n.width),y(w,"height",n.height),y(w,"opacity","0.8"),y(w,"position",$t?"absolute":"fixed"),y(w,"zIndex","100000"),y(w,"pointerEvents","none"),b.ghost=w,e.appendChild(w),y(w,"transform-origin",Zo/parseInt(w.style.width)*100+"% "+er/parseInt(w.style.height)*100+"%")}},_onDragStart:function(e,n){var o=this,r=e.dataTransfer,i=o.options;if(Q("dragStart",this,{evt:e}),b.eventCanceled){this._onDrop();return}Q("setupClone",this),b.eventCanceled||(R=ci(f),R.removeAttribute("id"),R.draggable=!1,R.style["will-change"]="",this._hideClone(),ee(R,this.options.chosenClass,!1),b.clone=R),o.cloneId=Wt(function(){Q("clone",o),!b.eventCanceled&&(o.options.removeCloneOnHide||B.insertBefore(R,f),o._hideClone(),X({sortable:o,name:"clone"}))}),!n&&ee(f,i.dragClass,!0),n?(zt=!0,o._loopId=setInterval(o._emulateDragOver,50)):(k(document,"mouseup",o._onDrop),k(document,"touchend",o._onDrop),k(document,"touchcancel",o._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(o,r,f)),N(document,"drop",o),y(f,"transform","translateZ(0)")),et=!0,o._dragStartId=Wt(o._dragStarted.bind(o,n,e)),N(document,"selectstart",o),pt=!0,bt&&y(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,o=e.target,r,i,a,s=this.options,l=s.group,c=b.active,u=Lt===l,d=s.sort,p=K||c,h,g=this,m=!1;if(Ln)return;function _(de,be){Q(de,g,ve({evt:e,isOwner:u,axis:h?"vertical":"horizontal",revert:a,dragRect:r,targetRect:i,canSort:d,fromSortable:p,target:o,completed:T,onMove:function(ze,$e){return Bt(B,n,f,r,ze,Y(ze),e,$e)},changed:D},be))}function O(){_("dragOverAnimationCapture"),g.captureAnimationState(),g!==p&&p.captureAnimationState()}function T(de){return _("dragOverCompleted",{insertion:de}),de&&(u?c._hideClone():c._showClone(g),g!==p&&(ee(f,K?K.options.ghostClass:c.options.ghostClass,!1),ee(f,s.ghostClass,!0)),K!==g&&g!==b.active?K=g:g===b.active&&K&&(K=null),p===g&&(g._ignoreWhileAnimating=o),g.animateAll(function(){_("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(o===f&&!f.animated||o===n&&!o.animated)&&(Je=null),!s.dragoverBubble&&!e.rootEl&&o!==document&&(f.parentNode[ne]._isOutsideThisEl(e.target),!de&&Fe(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function D(){te=ae(f),De=ae(f,s.draggable),X({sortable:g,name:"change",toEl:n,newIndex:te,newDraggableIndex:De,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=fe(o,s.draggable,n,!0),_("dragOver"),b.eventCanceled)return m;if(f.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||g._ignoreWhileAnimating===o)return T(!1);if(zt=!1,c&&!s.disabled&&(u?d||(a=H!==B):K===this||(this.lastPutMode=Lt.checkPull(this,c,f,e))&&l.checkPut(this,c,f,e))){if(h=this._getDirection(e,o)==="vertical",r=Y(f),_("dragOverValid"),b.eventCanceled)return m;if(a)return H=B,O(),this._hideClone(),_("revert"),b.eventCanceled||(He?B.insertBefore(f,He):B.appendChild(f)),T(!0);var v=no(n,s.draggable);if(!v||Dl(e,h,this)&&!v.animated){if(v===f)return T(!1);if(v&&n===e.target&&(o=v),o&&(i=Y(o)),Bt(B,n,f,r,o,i,e,!!o)!==!1)return O(),v&&v.nextSibling?n.insertBefore(f,v.nextSibling):n.appendChild(f),H=n,D(),T(!0)}else if(v&&Ol(e,h,this)){var S=ct(n,0,s,!0);if(S===f)return T(!1);if(o=S,i=Y(o),Bt(B,n,f,r,o,i,e,!1)!==!1)return O(),n.insertBefore(f,S),H=n,D(),T(!0)}else if(o.parentNode===n){i=Y(o);var A=0,I,M=f.parentNode!==n,C=!_l(f.animated&&f.toRect||r,o.animated&&o.toRect||i,h),x=h?"top":"left",P=Jo(o,"top","top")||Jo(f,"top","top"),V=P?P.scrollTop:void 0;Je!==o&&(I=i[x],wt=!1,Pt=!C&&s.invertSwap||M),A=kl(e,o,i,h,C?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Pt,Je===o);var $;if(A!==0){var z=ae(f);do z-=A,$=H.children[z];while($&&(y($,"display")==="none"||$===w))}if(A===0||$===o)return T(!1);Je=o,_t=A;var Z=o.nextElementSibling,F=!1;F=A===1;var G=Bt(B,n,f,r,o,i,e,F);if(G!==!1)return(G===1||G===-1)&&(F=G===1),Ln=!0,setTimeout(Sl,30),O(),F&&!Z?n.appendChild(f):o.parentNode.insertBefore(f,F?Z:o),P&&li(P,0,V-P.scrollTop),H=f.parentNode,I!==void 0&&!Pt&&(jt=Math.abs(I-Y(o)[x])),D(),T(!0)}if(n.contains(f))return T(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){k(document,"mousemove",this._onTouchMove),k(document,"touchmove",this._onTouchMove),k(document,"pointermove",this._onTouchMove),k(document,"dragover",Fe),k(document,"mousemove",Fe),k(document,"touchmove",Fe)},_offUpEvents:function(){var e=this.el.ownerDocument;k(e,"mouseup",this._onDrop),k(e,"touchend",this._onDrop),k(e,"pointerup",this._onDrop),k(e,"touchcancel",this._onDrop),k(document,"selectstart",this)},_onDrop:function(e){var n=this.el,o=this.options;if(te=ae(f),De=ae(f,o.draggable),Q("drop",this,{evt:e}),H=f&&f.parentNode,te=ae(f),De=ae(f,o.draggable),b.eventCanceled){this._nulling();return}et=!1,Pt=!1,wt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Pn(this.cloneId),Pn(this._dragStartId),this.nativeDraggable&&(k(document,"drop",this),k(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),bt&&y(document.body,"user-select",""),y(f,"transform",""),e&&(pt&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),w&&w.parentNode&&w.parentNode.removeChild(w),(B===H||K&&K.lastPutMode!=="clone")&&R&&R.parentNode&&R.parentNode.removeChild(R),f&&(this.nativeDraggable&&k(f,"dragend",this),wn(f),f.style["will-change"]="",pt&&!et&&ee(f,K?K.options.ghostClass:this.options.ghostClass,!1),ee(f,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:H,newIndex:null,newDraggableIndex:null,originalEvent:e}),B!==H?(te>=0&&(X({rootEl:H,name:"add",toEl:H,fromEl:B,originalEvent:e}),X({sortable:this,name:"remove",toEl:H,originalEvent:e}),X({rootEl:H,name:"sort",toEl:H,fromEl:B,originalEvent:e}),X({sortable:this,name:"sort",toEl:H,originalEvent:e})),K&&K.save()):te!==tt&&te>=0&&(X({sortable:this,name:"update",toEl:H,originalEvent:e}),X({sortable:this,name:"sort",toEl:H,originalEvent:e})),b.active&&((te==null||te===-1)&&(te=tt,De=Et),X({sortable:this,name:"end",toEl:H,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Q("nulling",this),B=f=H=w=He=R=Ht=Ce=Re=ue=pt=te=De=tt=Et=Je=_t=K=Lt=b.dragged=b.ghost=b.clone=b.active=null,qt.forEach(function(e){e.checked=!0}),qt.length=yn=En=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":f&&(this._onDragOver(e),Tl(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,o=this.el.children,r=0,i=o.length,a=this.options;r<i;r++)n=o[r],fe(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||Nl(n));return e},sort:function(e,n){var o={},r=this.el;this.toArray().forEach(function(i,a){var s=r.children[a];fe(s,this.options.draggable,r,!1)&&(o[i]=s)},this),n&&this.captureAnimationState(),e.forEach(function(i){o[i]&&(r.removeChild(o[i]),r.appendChild(o[i]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return fe(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var o=this.options;if(n===void 0)return o[e];var r=Ot.modifyOption(this,e,n);typeof r<"u"?o[e]=r:o[e]=n,e==="group"&&fi(o)},destroy:function(){Q("destroy",this);var e=this.el;e[ne]=null,k(e,"mousedown",this._onTapStart),k(e,"touchstart",this._onTapStart),k(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(k(e,"dragover",this),k(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Xt.splice(Xt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ce){if(Q("hideClone",this),b.eventCanceled)return;y(R,"display","none"),this.options.removeCloneOnHide&&R.parentNode&&R.parentNode.removeChild(R),Ce=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ce){if(Q("showClone",this),b.eventCanceled)return;f.parentNode==B&&!this.options.group.revertClone?B.insertBefore(R,f):He?B.insertBefore(R,He):B.appendChild(R),this.options.group.revertClone&&this.animate(f,R),y(R,"display",""),Ce=!1}}};function Tl(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Bt(t,e,n,o,r,i,a,s){var l,c=t[ne],u=c.options.onMove,d;return window.CustomEvent&&!Te&&!St?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=o,l.related=r||e,l.relatedRect=i||Y(e),l.willInsertAfter=s,l.originalEvent=a,t.dispatchEvent(l),u&&(d=u.call(c,l,a)),d}function wn(t){t.draggable=!1}function Sl(){Ln=!1}function Ol(t,e,n){var o=Y(ct(n.el,0,n.options,!0)),r=10;return e?t.clientX<o.left-r||t.clientY<o.top&&t.clientX<o.right:t.clientY<o.top-r||t.clientY<o.bottom&&t.clientX<o.left}function Dl(t,e,n){var o=Y(no(n.el,n.options.draggable)),r=10;return e?t.clientX>o.right+r||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+r}function kl(t,e,n,o,r,i,a,s){var l=o?t.clientY:t.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,p=!1;if(!a){if(s&&jt<c*r){if(!wt&&(_t===1?l>u+c*i/2:l<d-c*i/2)&&(wt=!0),wt)p=!0;else if(_t===1?l<u+jt:l>d-jt)return-_t}else if(l>u+c*(1-r)/2&&l<d-c*(1-r)/2)return Cl(e)}return p=p||a,p&&(l<u+c*i/2||l>d-c*i/2)?l>u+c/2?1:-1:0}function Cl(t){return ae(f)<ae(t)?1:-1}function Nl(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function Il(t){qt.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&qt.push(o)}}function Wt(t){return setTimeout(t,0)}function Pn(t){return clearTimeout(t)}rn&&N(document,"touchmove",function(t){(b.active||et)&&t.cancelable&&t.preventDefault()});b.utils={on:N,off:k,css:y,find:ai,is:function(e,n){return!!fe(e,n,e,!1)},extend:pl,throttle:si,closest:fe,toggleClass:ee,clone:ci,index:ae,nextTick:Wt,cancelNextTick:Pn,detectDirection:di,getChild:ct};b.get=function(t){return t[ne]};b.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(b.utils=ve(ve({},b.utils),o.utils)),Ot.mount(o)})};b.create=function(t,e){return new b(t,e)};b.version=ul;var W=[],ht,$n,Bn=!1,An,Tn,Jt,mt;function xl(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?N(document,"dragover",this._handleAutoScroll):this.options.supportPointer?N(document,"pointermove",this._handleFallbackAutoScroll):o.touches?N(document,"touchmove",this._handleFallbackAutoScroll):N(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?k(document,"dragover",this._handleAutoScroll):(k(document,"pointermove",this._handleFallbackAutoScroll),k(document,"touchmove",this._handleFallbackAutoScroll),k(document,"mousemove",this._handleFallbackAutoScroll)),nr(),Yt(),hl()},nulling:function(){Jt=$n=ht=Bn=mt=An=Tn=null,W.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var r=this,i=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(i,a);if(Jt=n,o||this.options.forceAutoScrollFallback||St||Te||bt){Sn(n,this.options,s,o);var l=Ne(s,!0);Bn&&(!mt||i!==An||a!==Tn)&&(mt&&nr(),mt=setInterval(function(){var c=Ne(document.elementFromPoint(i,a),!0);c!==l&&(l=c,Yt()),Sn(n,r.options,c,o)},10),An=i,Tn=a)}else{if(!this.options.bubbleScroll||Ne(s,!0)===me()){Yt();return}Sn(n,this.options,Ne(s,!1),!1)}}},we(t,{pluginName:"scroll",initializeByDefault:!0})}function Yt(){W.forEach(function(t){clearInterval(t.pid)}),W=[]}function nr(){clearInterval(mt)}var Sn=si(function(t,e,n,o){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,s=e.scrollSpeed,l=me(),c=!1,u;$n!==n&&($n=n,Yt(),ht=e.scroll,u=e.scrollFn,ht===!0&&(ht=Ne(n,!0)));var d=0,p=ht;do{var h=p,g=Y(h),m=g.top,_=g.bottom,O=g.left,T=g.right,D=g.width,v=g.height,S=void 0,A=void 0,I=h.scrollWidth,M=h.scrollHeight,C=y(h),x=h.scrollLeft,P=h.scrollTop;h===l?(S=D<I&&(C.overflowX==="auto"||C.overflowX==="scroll"||C.overflowX==="visible"),A=v<M&&(C.overflowY==="auto"||C.overflowY==="scroll"||C.overflowY==="visible")):(S=D<I&&(C.overflowX==="auto"||C.overflowX==="scroll"),A=v<M&&(C.overflowY==="auto"||C.overflowY==="scroll"));var V=S&&(Math.abs(T-r)<=a&&x+D<I)-(Math.abs(O-r)<=a&&!!x),$=A&&(Math.abs(_-i)<=a&&P+v<M)-(Math.abs(m-i)<=a&&!!P);if(!W[d])for(var z=0;z<=d;z++)W[z]||(W[z]={});(W[d].vx!=V||W[d].vy!=$||W[d].el!==h)&&(W[d].el=h,W[d].vx=V,W[d].vy=$,clearInterval(W[d].pid),(V!=0||$!=0)&&(c=!0,W[d].pid=setInterval(function(){o&&this.layer===0&&b.active._onTouchMove(Jt);var Z=W[this.layer].vy?W[this.layer].vy*s:0,F=W[this.layer].vx?W[this.layer].vx*s:0;typeof u=="function"&&u.call(b.dragged.parentNode[ne],F,Z,t,Jt,W[this.layer].el)!=="continue"||li(W[this.layer].el,F,Z)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&p!==l&&(p=Ne(p,!1)));Bn=c}},30),mi=function(e){var n=e.originalEvent,o=e.putSortable,r=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var c=o||i;s();var u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(d)&&(a("spill"),this.onSpill({dragEl:r,putSortable:o}))}};function oo(){}oo.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var r=ct(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:mi};we(oo,{pluginName:"revertOnSpill"});function ro(){}ro.prototype={onSpill:function(e){var n=e.dragEl,o=e.putSortable,r=o||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:mi};we(ro,{pluginName:"removeOnSpill"});b.mount(new xl);b.mount(ro,oo);const gi=document.getElementById("bookmarkList"),io="##",ao=`
`,Ll=new Ge("#addGroupModal"),so=t=>{t?([document.getElementById("btnBookmarkEdit"),document.getElementById("btnBookmarkDownload"),document.getElementById("btnBookmarkUpload")].forEach((e,n,o)=>{e.classList.add("d-none")}),[document.getElementById("btnBookmarkGroupAdd"),...document.getElementsByClassName("btnBookmarkGroupEdit"),document.getElementById("btnBookmarkSave"),document.getElementById("btnBookmarkReset"),...document.getElementsByClassName("btnBookmarkReorder"),...document.getElementsByClassName("btnBookmarkRemove")].forEach((e,n,o)=>{e.classList.remove("d-none")})):([document.getElementById("btnBookmarkEdit"),document.getElementById("btnBookmarkDownload"),document.getElementById("btnBookmarkUpload")].forEach((e,n,o)=>{e.classList.remove("d-none")}),[document.getElementById("btnBookmarkGroupAdd"),...document.getElementsByClassName("btnBookmarkGroupEdit"),document.getElementById("btnBookmarkSave"),document.getElementById("btnBookmarkReset"),...document.getElementsByClassName("btnBookmarkReorder"),...document.getElementsByClassName("btnBookmarkRemove")].forEach((e,n,o)=>{e.classList.add("d-none")}))},lo=t=>{document.getElementById("groupNameInput").value.length>0&&(t=document.getElementById("groupNameInput").value,document.getElementById("groupNameInput").value="",Ll.hide());const e=lt("bookmarkGroup",{"{{name}}":t}),n=lt("bookmarkRoute");e.appendChild(n),gi.appendChild(e),new b(n,{handle:".btnBookmarkReorder",group:"route",animation:150})},Pl=t=>{t.target.closest("div.list-group-item.group").remove()},vi=(t,e,n=!1)=>{n&&(e=JSON.parse(on(e)));const o=lt("bookmarkRow",{"{{dataRouteJson}}":nn(JSON.stringify(e)),"{{companyLogo}}":eo(e.company),"{{route}}":e.route,"{{name}}":e.name,"{{routeDesc}}":e.routeDesc});document.querySelectorAll(`div[data-group-name="${t}"] .list-group.route`)[0].appendChild(o),n&&bi()},$l=t=>{t.target.closest("div.list-group-item").remove()},Bl=()=>{so(!0)},bi=()=>{so(!1);const t=[...document.getElementsByClassName("list-group-item")].map(e=>{const n=e.getAttribute("data-group-name");if(n){const o=[...e.querySelectorAll(".list-group-item")].map(r=>on(r.getAttribute("data-route-json"))).join(io);return JSON.stringify({[n]:o})}else return null}).filter(e=>!!e).join(ao);localStorage.setItem("bookmarkList",t)},co=()=>{so(!1),gi.innerHTML="";let t=[];localStorage.hasOwnProperty("bookmarkList")&&(t=localStorage.getItem("bookmarkList").split(ao).map(e=>{const n=JSON.parse(e);return Object.entries(n).map(o=>({[o[0]]:o[1].split(io).map(r=>JSON.parse(r))}))})),t.forEach(e=>{const n=Object.entries(e[0])[0];lo(n[0]),n[1].forEach(o=>vi(n[0],o))})},Ml=()=>{let t="";localStorage.hasOwnProperty("bookmarkList")&&(t=localStorage.getItem("bookmarkList"));let e=document.createElement("a"),n=new Blob([t],{type:"application/octet-stream"}),o=URL.createObjectURL(n);e.setAttribute("href",o),e.setAttribute("download","group"),e.click()},Rl=t=>{const e=new FileReader;e.onload=n=>{localStorage.setItem("bookmarkList",n.target.result),co()},e.onerror=n=>console.error(n),e.readAsText(t.target.files[0])},Fl=t=>localStorage.hasOwnProperty("bookmarkList")?localStorage.getItem("bookmarkList").split(ao).some(e=>{const n=JSON.parse(e);return Object.entries(n).some(o=>o[1].split(io).some(r=>{const i=JSON.parse(r);let a=i.company===t.company&&i.routeId===t.routeId&&i.stop===t.stop;switch(t.company){case"kmb":a=a&&i.routeType===t.routeType&&i.dir===t.dir;break;case"ctb":case"nwfb":case"mtr_hr":a=a&&i.dir===t.dir;break;case"gmb":a=a&&i.routeType===t.routeType;break}return a}))}):!1;document.getElementById("btnBookmarkEdit").onclick=Bl;document.getElementById("btnBookmarkSave").onclick=bi;document.getElementById("btnBookmarkReset").onclick=co;document.getElementById("btnBookmarkGroupAddSubmit").onclick=lo;document.getElementById("btnBookmarkDownload").onclick=Ml;document.getElementById("fileUploadInput").addEventListener("change",Rl,!1);co();new b(document.getElementById("bookmarkList"),{handle:".btnBookmarkReorder",group:"group",animation:150});window.addGroup=lo;window.removeGroup=Pl;window.addBookmark=vi;window.removeBookmark=$l;window.isBoomarked=Fl;
